!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(globalThis,()=>(()=>{var t={547:function(t,e,i){"use strict";let n;{let t=/(^.*\/@clerk\/clerk-js@)(.+?)(\/dist.*)/;(()=>{try{let e=new URL(document.currentScript.src),n=new URL(e.href.split("/").slice(0,-1).join("/")).href;n+=n.endsWith("/")?"":"/",i.p=n.replace(t,"$1".concat("5.56.0","$3"))}catch{}})()}function r(t,e){return e.get?e.get.call(t):e.value}function s(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function a(t,e){var i=s(t,e,"get");return r(t,i)}function o(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){o(t,e),e.set(t,i)}function c(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}function h(t,e,i){var n=s(t,e,"set");return c(t,n,i),i}function d(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function u(t,e){o(t,e),e.add(t)}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f(){return"undefined"!=typeof window}i(647);var m,v,g,_,w,b,y,S,k,U,A,I,O,C,P,E,T,x,M,R,z,W,N=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function F(){var t,e;let i=f()?null===(t=window)||void 0===t?void 0:t.navigator:null;return!!i&&!((e=null==i?void 0:i.userAgent)&&N.test(e))&&!(null==i?void 0:i.webdriver)}function L(){var t,e,i;let n=f()?null===(t=window)||void 0===t?void 0:t.navigator:null;if(!n)return!1;let r=null==n?void 0:n.onLine;return(null==n?void 0:null===(e=n.connection)||void 0===e?void 0:e.rtt)!==0&&(null==n?void 0:null===(i=n.connection)||void 0===i?void 0:i.downlink)!==0&&r}Object.prototype.hasOwnProperty;var j=t=>{throw TypeError(t)},D=(t,e,i)=>e.has(t)||j("Cannot "+i),J=(t,e,i)=>(D(t,e,"read from private field"),i?i.call(t):e.get(t)),V=(t,e,i)=>e.has(t)?j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),K=(t,e,i,n)=>(D(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),B=(t,e,i)=>(D(t,e,"access private method"),i),q=()=>!1,H=()=>{try{return!0}catch{}return!1},G=new Set,$=(t,e,i)=>{let n=q()||H(),r=null!=i?i:t;!G.has(r)&&!n&&(G.add(r),console.warn('Clerk - DEPRECATION WARNING: "'.concat(t,'" is deprecated and will be removed in the next major release.\n').concat(e)))};function Y(t){let e=null==t?void 0:t.status;return!!e&&e>=400&&e<500}function Z(t){return"clerkError"in t}function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length>0?t.map(X):[]}function X(t){var e,i,n,r,s;return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:null==t?void 0:null===(e=t.meta)||void 0===e?void 0:e.param_name,sessionId:null==t?void 0:null===(i=t.meta)||void 0===i?void 0:i.session_id,emailAddresses:null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.email_addresses,identifiers:null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.identifiers,zxcvbn:null==t?void 0:null===(s=t.meta)||void 0===s?void 0:s.zxcvbn}}}var tt=class t extends Error{constructor(e,{data:i,status:n,clerkTraceId:r}){super(e),this.toString=()=>{let t="[".concat(this.name,"]\nMessage:").concat(this.message,"\nStatus:").concat(this.status,"\nSerialized errors: ").concat(this.errors.map(t=>JSON.stringify(t)));return this.clerkTraceId&&(t+="\nClerk Trace ID: ".concat(this.clerkTraceId)),t},Object.setPrototypeOf(this,t.prototype),this.status=n,this.message=e,this.clerkTraceId=r,this.clerkError=!0,this.errors=Q(i)}},te=class t extends Error{constructor(e,{code:i}){let n="\uD83D\uDD12 Clerk:",r=RegExp(n.replace(" ","\\s*"),"i"),s=e.replace(r,""),a="".concat(n," ").concat(s.trim(),'\n\n(code="').concat(i,'")\n');super(a),this.toString=()=>"[".concat(this.name,"]\nMessage:").concat(this.message),Object.setPrototypeOf(this,t.prototype),this.code=i,this.message=a,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},ti=class t extends Error{constructor(e){super(e),this.code=e,this.name="EmailLinkError",Object.setPrototypeOf(this,t.prototype)}},tn={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},tr=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"}),ts=class extends te{constructor(t,{code:e}){super(t,{code:e}),this.code=e}},ta=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,to=t=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t).toString("base64"):t,tl=[".lcl.dev",".lclstage.dev",".lclclerk.com"],tc=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],th=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],td="pk_live_";function tu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t=t||"")||!tp(t)){if(e.fatal&&!t)throw Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!tp(t))throw Error("Publishable key not valid.");return null}let i=t.startsWith(td)?"production":"development",n=ta(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:"development"!==i&&e.domain&&(n="clerk.".concat(e.domain)),{instanceType:i,frontendApi:n}}function tp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{let e=t.startsWith(td)||t.startsWith("pk_test_"),i=ta(t.split("_")[2]||"").endsWith("$");return e&&i}catch{return!1}}async function tf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.crypto.subtle,i=new TextEncoder().encode(t);return to(String.fromCharCode(...new Uint8Array(await e.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var tm=(t,e)=>"".concat(t,"_").concat(e),tv=class{prefixEventName(t){return this.channelKey+t}constructor(t){this.eventTarget=window,this.postMessage=t=>{if("undefined"!=typeof window)try{window.localStorage.setItem(this.channelKey,JSON.stringify(t)),window.localStorage.removeItem(this.channelKey)}catch{}},this.addEventListener=(t,e)=>{this.eventTarget.addEventListener(this.prefixEventName(t),t=>{e(t)})},this.setupLocalStorageListener=()=>{window.addEventListener("storage",t=>{if(t.key===this.channelKey&&t.newValue)try{let e=JSON.parse(t.newValue||""),i=new MessageEvent(this.prefixEventName("message"),{data:e});this.eventTarget.dispatchEvent(i)}catch{}})},this.channelKey="__lsbc__"+t,this.setupLocalStorageListener()}},tg=new Set,t_={warnOnce:t=>{!tg.has(t)&&(tg.add(t),console.warn(t))},logOnce:t=>{!tg.has(t)&&(console.log(t),tg.add(t))}};function tw(t){return/^http(s)?:\/\//.test(t||"")}function tb(t){return t.startsWith("/")}function ty(t){return t?t.replace(/[A-Z]/g,t=>"_".concat(t.toLowerCase())):""}var tS=t=>{let e=i=>{if(!i)return i;if(Array.isArray(i))return i.map(t=>"object"==typeof t||Array.isArray(t)?e(t):t);let n={...i};for(let i of Object.keys(n)){let r=t(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=e(n[r]))}return n};return e},tk=tS(ty),tU=tS(function(t){return t?t.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""});function tA(t){if("boolean"==typeof t)return t;if(null==t)return!1;if("string"==typeof t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1}let e=parseInt(t,10);return!isNaN(e)&&e>0}var tI=class{isEventThrottled(t){var e;if(!J(this,g,b))return!1;let i=Date.now(),n=B(this,g,_).call(this,t),r=null===(e=J(this,g,w))||void 0===e?void 0:e[n];if(!r){let t={...J(this,g,w),[n]:i};localStorage.setItem(J(this,m),JSON.stringify(t))}if(r&&i-r>J(this,v)){let t=J(this,g,w);delete t[n],localStorage.setItem(J(this,m),JSON.stringify(t))}return!!r}constructor(){V(this,g),V(this,m,"clerk_telemetry_throttler"),V(this,v,864e5)}};m=new WeakMap,v=new WeakMap,g=new WeakSet,_=function(t){let{sk:e,pk:i,payload:n,...r}=t,s={...n,...r};return JSON.stringify(Object.keys({...n,...r}).sort().map(t=>s[t]))},w=function(){let t=localStorage.getItem(J(this,m));return t?JSON.parse(t):{}},b=function(){if("undefined"==typeof window)return!1;let t=window.localStorage;if(!t)return!1;try{let e="test";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t.length>0&&t.removeItem(J(this,m)),!1}};var tO={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},tC=class{get isEnabled(){var t,e;return!("development"!==J(this,k).instanceType||J(this,y).disabled||"undefined"!=typeof process&&tA(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||!t.webdriver)}get isDebug(){return J(this,y).debug||"undefined"!=typeof process&&tA(process.env.CLERK_TELEMETRY_DEBUG)}record(t){let e=B(this,I,M).call(this,t.event,t.payload);B(this,I,T).call(this,e.event,e),B(this,I,O).call(this,e,t.eventSamplingRate)&&(J(this,U).push(e),B(this,I,P).call(this))}constructor(t){var e,i,n,r,s,a;V(this,I),V(this,y),V(this,S),V(this,k,{}),V(this,U,[]),V(this,A),K(this,y,{maxBufferSize:null!==(e=t.maxBufferSize)&&void 0!==e?e:tO.maxBufferSize,samplingRate:null!==(i=t.samplingRate)&&void 0!==i?i:tO.samplingRate,disabled:null!==(n=t.disabled)&&void 0!==n&&n,debug:null!==(r=t.debug)&&void 0!==r&&r,endpoint:tO.endpoint}),t.clerkVersion||"undefined"!=typeof window?J(this,k).clerkVersion=null!==(s=t.clerkVersion)&&void 0!==s?s:"":J(this,k).clerkVersion="",J(this,k).sdk=t.sdk,J(this,k).sdkVersion=t.sdkVersion,J(this,k).publishableKey=null!==(a=t.publishableKey)&&void 0!==a?a:"";let o=tu(t.publishableKey);o&&(J(this,k).instanceType=o.instanceType),t.secretKey&&(J(this,k).secretKey=t.secretKey.substring(0,16)),K(this,S,new tI)}};function tP(t){return function(e,i,n){var r,s,a;return{event:t,eventSamplingRate:.1,payload:{component:e,appearanceProp:!!(null==i?void 0:i.appearance),baseTheme:!!(null==i?void 0:null===(r=i.appearance)||void 0===r?void 0:r.baseTheme),elements:!!(null==i?void 0:null===(s=i.appearance)||void 0===s?void 0:s.elements),variables:!!(null==i?void 0:null===(a=i.appearance)||void 0===a?void 0:a.variables),...n}}}}function tE(t,e,i){return tP("COMPONENT_MOUNTED")(t,e,i)}function tT(t,e,i){return tP("COMPONENT_OPENED")(t,e,i)}y=new WeakMap,S=new WeakMap,k=new WeakMap,U=new WeakMap,A=new WeakMap,I=new WeakSet,O=function(t,e){return this.isEnabled&&!this.isDebug&&B(this,I,C).call(this,t,e)},C=function(t,e){let i=Math.random();return i<=J(this,y).samplingRate&&(void 0===e||i<=e)&&!J(this,S).isEventThrottled(t)},P=function(){if("undefined"==typeof window){B(this,I,E).call(this);return}if(J(this,U).length>=J(this,y).maxBufferSize){J(this,A)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)(J(this,A)),B(this,I,E).call(this);return}!J(this,A)&&("requestIdleCallback"in window?K(this,A,requestIdleCallback(()=>{B(this,I,E).call(this)})):K(this,A,setTimeout(()=>{B(this,I,E).call(this)},0)))},E=function(){fetch(new URL("/v1/event",J(this,y).endpoint),{method:"POST",body:JSON.stringify({events:J(this,U)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{K(this,U,[])}).catch(()=>void 0)},T=function(t,e){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",t),console.log(e),console.groupEnd()):console.log("[clerk/telemetry]",t,e))},x=function(){let t={name:J(this,k).sdk,version:J(this,k).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(t={...t,...window.Clerk.constructor.sdkMetadata}),t},M=function(t,e){var i,n;let r=B(this,I,x).call(this);return{event:t,cv:null!==(i=J(this,k).clerkVersion)&&void 0!==i?i:"",it:null!==(n=J(this,k).instanceType)&&void 0!==n?n:"",sdk:r.name,sdkv:r.version,...J(this,k).publishableKey?{pk:J(this,k).publishableKey}:{},...J(this,k).secretKey?{sk:J(this,k).secretKey}:{},payload:e}};var tx=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,tM=t=>tx.test(t),tR=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i]};function tz(t,e,i){return"function"==typeof t?t(e):void 0!==t?t:void 0!==i?i:void 0}let tW="clerk:beforeunload",tN=["http:","https:","wails:","chrome-extension:"];function tF(t){let e=new URL(t,window.location.href);window.dispatchEvent(new CustomEvent(tW)),window.location.href=e.href}let tL=()=>{let t=!1,e=()=>t=!0;return{startListening:()=>{window.addEventListener("beforeunload",e),window.addEventListener(tW,e)},stopListening:()=>{window.removeEventListener("beforeunload",e),window.removeEventListener(tW,e)},isUnloading:()=>t}},tj=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return{track:async t=>{await t()},isUnloading:()=>!1};let e=tL();return{track:async t=>{e.startListening(),await t(),e.stopListening()},isUnloading:e.isUnloading}},tD=t=>{let{signUp:e,verifyEmailPath:i,verifyPhonePath:n,continuePath:r,navigate:s,handleComplete:a,redirectUrl:o="",redirectUrlComplete:l=""}=t;if("complete"===e.status)return a&&a();if("missing_requirements"===e.status){var c,h;if(e.missingFields.some(t=>"saml"===t||"enterprise_sso"===t))return e.authenticateWithRedirect({strategy:"enterprise_sso",redirectUrl:o,redirectUrlComplete:l,continueSignUp:!0});if((null===(c=e.unverifiedFields)||void 0===c?void 0:c.includes("email_address"))&&i)return s(i);if((null===(h=e.unverifiedFields)||void 0===h?void 0:h.includes("phone_number"))&&n)return s(n);if(r)return s(r)}},tJ=(t,e)=>!!(t.session&&(null==e?void 0:e.authConfig.singleSessionMode)),tV=t=>!t.user,tK=t=>!t.organization,tB=(t,e)=>!(null==e?void 0:e.organizationSettings.enabled);function tq(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.errors&&!!t.errors.find(t=>t.code===e)}let tH=function(t){let{packageName:e,customMessages:i}=t,n=e,r={...tr,...i};function s(t,e){if(!e)return"".concat(n,": ").concat(t);let i=t;for(let n of t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let t=(e[n[1]]||"").toString();i=i.replace("{{".concat(n[1],"}}"),t)}return"".concat(n,": ").concat(i)}return{setPackageName(t){let{packageName:e}=t;return"string"==typeof e&&(n=e),this},setMessages(t){let{customMessages:e}=t;return Object.assign(r,e||{}),this},throwInvalidPublishableKeyError(t){throw Error(s(r.InvalidPublishableKeyErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(s(r.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(s(r.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(s(r.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(t){throw Error(s(r.MissingClerkProvider,t))},throw(t){throw Error(s(t))}}}({packageName:"@clerk/clerk-js"});function tG(t){return new URL(window.location.href).searchParams.get(t)||null}function t$(t){let e=new URL(window.location.href);e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(window.history.state,"",e))}var tY=i(763),tZ={toRegexp:t=>{try{return tY(t)}catch(e){throw Error("Invalid pattern: ".concat(t,".\nConsult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.\n").concat(e.message))}}};let tQ=RegExp("/{1,}","g"),tX=t=>{let e={};return new URLSearchParams(t).forEach((t,i)=>{if(i in e){let n=e[i];Array.isArray(n)?n.push(t):e[i]=[n,t]}else e[i]=t}),e},t0=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||!t||"object"!=typeof t)return"";let i=new URLSearchParams;return Object.keys(t).forEach(n=>{let r=e.keyEncoder?e.keyEncoder(n):n,s=t[n];if(Array.isArray(s))s.forEach(t=>void 0!==t&&i.append(r,t||""));else{if(void 0===s)return;"object"==typeof s&&null!==s?i.append(r,JSON.stringify(s)):i.append(r,String(null!=s?s:""))}}),i.toString()},t1="http://clerk-dummy",t3=["javascript:"],{isDevOrStagingUrl:t2}=function(){let t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;let i="string"==typeof e?e:e.hostname,n=t.get(i);return void 0===n&&(n=th.some(t=>i.endsWith(t)),t.set(i,n)),n}}}(),t5=new Map;function t4(t){return t.replace("clerk.","")}function t6(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base:i,hashPath:n,hashSearch:r,searchParams:s,hashSearchParams:a,...o}=t,l="",c=new URL(i||"","undefined"!=typeof window&&window.location?window.location.href:"http://react-native-fake-base-url");if(s instanceof URLSearchParams&&s.forEach((t,e)=>{null!=t&&c.searchParams.set(ty(e),t)}),Object.assign(c,o),n||r||a){let t=new URL(t1+c.hash.substring(1));for(let[e,i]of(t.pathname=[t.pathname,n||""].filter(t=>t).join("/").replace(tQ,"/"),Object.entries(tX(r||""))))t.searchParams.append(e,i);if(a)for(let e of Array.isArray(a)?a:[a])(e instanceof URLSearchParams||"object"==typeof e)&&new URLSearchParams(e).forEach((e,i)=>{null!=e&&t.searchParams.set(ty(i),e)});let e=t.href.replace(t1,"");"/"!==e&&(c.hash=e)}let{stringify:h,skipOrigin:d}=e;return h?d?c.href.replace(c.origin,""):c.href:c}let t9=t=>(t||"").replace(/\/+$/,""),t7=t=>{let{externalAccount:e}=t.verifications;return!!e.error};function t8(t,e){try{return new URL(t)}catch{return new URL(t,e)}}let et=[/\0/,/^\/\//,/[\x00-\x1F]/],ee=["/oauth/authorize"],ei=["/v1/verify","/v1/tickets/accept"],en=(t,e)=>i=>{let n=i;if("string"==typeof n&&(n=t8(n,e)),!t)return!0;let r=e===n.origin,s=!function(t){if(function(t){if(!function(t){if(!t)return!1;try{return new URL(t),!0}catch{return!1}}(t))return!1;let e=new URL(t).protocol;return t3.some(t=>t===e)}(t))return!0;for(let e of et)if(e.test(t.pathname))return!0;return!1}(n)&&(r||t.map(t=>"string"==typeof t?tZ.toRegexp(t9(t)):t).some(t=>t.test(t9(n.origin))));return s||t_.warnOnce("Clerk: Redirect URL ".concat(n," is not on one of the allowedRedirectOrigins, falling back to the default redirect URL.")),s};function er(t){var e;return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(i.g.atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}function es(t){let e=(t||"").split("."),[i,n,r]=e;if(3!==e.length||!i||!n||!r)throw Error("JWT could not be decoded");let s=JSON.parse(er(n)),a={__raw:t};return Object.keys(s).forEach(t=>{a[t]=s[t]}),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(er(i)),claims:a}}let ea=()=>{if(!f())return{onPageFocus:tR};let t={focus:[]};return window.addEventListener("focus",()=>{"visible"===document.visibilityState&&t.focus.forEach(t=>t())}),{onPageFocus:e=>{t.focus.push(e)}}};function eo(){return void 0!==globalThis.document}function el(){return eo()&&window.self!==window.top&&!window.frameElement}function ec(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}function eh(t,e){if(void 0===t)throw TypeError("attempted to "+e+" private static field before its declaration")}function ed(t,e,i){return ec(t,e),eh(i,"get"),r(t,i)}var eu=new WeakMap,ep=new WeakMap,ef=new WeakMap;class em{static getInstance(){if(!ed(em,em,ev)){var t;t=new em,ec(em,em),eh(ev,"set"),c(em,ev,t)}return ed(em,em,ev)}constructor(){if(l(this,eu,{writable:!0,value:[]}),l(this,ep,{writable:!0,value:{metamask:"MetaMask",okx_wallet:"OKX Wallet"}}),p(this,"get",t=>{var e;let i=null===(e=a(this,eu).find(e=>e.info.name===a(this,ep)[t]))||void 0===e?void 0:e.provider;return void 0!==i?i:window.ethereum}),l(this,ef,{writable:!0,value:t=>{!a(this,eu).some(e=>e.info.uuid===t.detail.info.uuid)&&a(this,eu).push(t.detail)}}),"undefined"==typeof window)return;window.addEventListener("eip6963:announceProvider",a(this,ef)),window.dispatchEvent(new Event("eip6963:requestProvider"))}}var ev={writable:!0,value:null};let eg=()=>em.getInstance();async function e_(t){let{provider:e}=t,i=await eI(e);if(!i)return"";let n=await i.request({method:"eth_requestAccounts"});return n&&n[0]||""}async function ew(t){let{identifier:e,nonce:i,provider:n}=t,r=await eI(n);return r?await r.request({method:"personal_sign",params:["0x".concat(i.split("").map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")),e]}):""}async function eb(){return await e_({provider:"metamask"})}async function ey(){return await e_({provider:"coinbase_wallet"})}async function eS(){return await e_({provider:"okx_wallet"})}async function ek(t){return await ew({...t,provider:"metamask"})}async function eU(t){return await ew({...t,provider:"coinbase_wallet"})}async function eA(t){return await ew({...t,provider:"okx_wallet"})}async function eI(t){return"coinbase_wallet"===t?(await Promise.all([i.e("956"),i.e("192")]).then(i.bind(i,453)).then(t=>t.createCoinbaseWalletSDK))({preference:{options:"all"}}).getProvider():eg().get(t)}function eO(t){let e=["redirectUrl","afterSignInUrl","afterSignUpUrl","after_sign_in_url","after_sign_up_url"],i=Object.keys(t).find(t=>e.includes(t));i&&t[i]&&t_.warnOnce('Clerk: The prop "'.concat(i,'" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props'))}let eC="ClerkJS:";function eP(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eC," Something went wrong initializing Clerk in development mode.").concat(t&&" ".concat(t)))}function eE(t){throw Error("".concat(eC," Token refresh failed (error='").concat(t,"')"))}function eT(t){throw Error("".concat(eC," Something went wrong initializing Clerk during the ").concat(t," flow. Please contact support."))}function ex(t){throw Error("".concat(eC," You need to start a ").concat(t," flow by calling ").concat(t,".create() first."))}function eM(t,e){throw Error("".concat(eC,' Strategy "').concat(e,'" is not a valid strategy for ').concat(t,"."))}function eR(t){throw Error("".concat(eC," You need to start a ").concat(t," flow by calling ").concat(t,".create({ identifier: 'your web3 wallet address' }) first"))}function ez(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eC," Missing '").concat(t,"' option"))}function eW(t,e){throw Error("".concat(eC," Response: ").concat(t||0," not supported yet.\nFor more information contact us at ").concat(e))}function eN(t){throw Error("".concat(eC," Missing publicKey. When calling 'navigator.credentials.").concat(t,"()' it is required to pass a publicKey object."))}var eF={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!0,jitter:!0},eL=async t=>new Promise(e=>setTimeout(e,t)),ej=(t,e)=>e?t*(1+Math.random()):t,eD=t=>{let e=0,i=()=>{let i=t.initialDelay*Math.pow(t.factor,e);return i=ej(i,t.jitter),Math.min(t.maxDelayBetweenRetries||i,i)};return async()=>{await eL(i()),e++}},eJ=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,{shouldRetry:n,initialDelay:r,maxDelayBetweenRetries:s,factor:a,retryImmediately:o,jitter:l}={...eF,...e},c=eD({initialDelay:r,maxDelayBetweenRetries:s,factor:a,jitter:l});for(;;)try{return await t()}catch(t){if(!n(t,++i))throw t;o&&1===i?await eL(ej(100,l)):await c()}};async function eV(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,{async:i,defer:n,beforeLoad:r,crossOrigin:s,nonce:a}=e||{};return eJ(()=>new Promise((e,o)=>{t||o(Error("loadScript cannot be called without a src")),document&&document.body||o("loadScript cannot be called when document does not exist");let l=document.createElement("script");s&&l.setAttribute("crossorigin",s),l.async=i||!1,l.defer=n||!1,l.addEventListener("load",()=>{l.remove(),e(l)}),l.addEventListener("error",()=>{l.remove(),o()}),l.src=t,l.nonce=a,null==r||r(l),document.body.appendChild(l)}),{shouldRetry:(t,e)=>e<=5})}let eK="clerk-captcha",eB="clerk-invisible-captcha",eq=t=>!!["crashed","undefined_error","102","103","104","106","110600","300","600"].find(e=>t.startsWith(e));async function eH(){return window.turnstile||await eG().catch(()=>{throw{captchaError:"captcha_script_failed_to_load"}}),window.turnstile}async function eG(){try{return await eV("https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",{defer:!0})}catch(t){throw console.warn("Clerk: Failed to load the CAPTCHA script from Cloudflare. If you see a CSP error in your browser, please add the necessary CSP rules to your app. Visit https://clerk.com/docs/security/clerk-csp for more information."),t}}function e$(t){let e=t.getAttribute("data-cl-theme")||void 0;return{theme:e,language:t.getAttribute("data-cl-language")||void 0,size:t.getAttribute("data-cl-size")||void 0}}let eY=async t=>{let e,i,n,r;let{siteKey:s,widgetType:a,invisibleSiteKey:o}=t,{modalContainerQuerySelector:l,modalWrapperQuerySelector:c,closeModal:h,openModal:d}=t,u=await eH(),p=[],f="",m="",v=s,g=0,_=null;if(l&&c){_=a,r=l,await (null==d?void 0:d());let t=await new Promise(t=>{if(document.querySelector(l))return t(document.querySelector(l));let e=new MutationObserver(()=>{document.querySelector(l)&&(e.disconnect(),t(document.querySelector(l)))});e.observe(document.body,{childList:!0,subtree:!0})});if(t){let{theme:r,language:s,size:a}=e$(t);e=r,n=s,i=a}}if(!r&&"smart"===a){let t=document.getElementById(eK);if(t){_="smart",r="#".concat(eK),t.style.maxHeight="0";let{theme:s,language:a,size:o}=e$(t);e=s,n=a,i=o}else console.error("Cannot initialize Smart CAPTCHA widget because the `clerk-captcha` DOM element was not found; falling back to Invisible CAPTCHA widget. If you are using a custom flow, visit https://clerk.com/docs/custom-flows/bot-sign-up-protection for instructions")}if(!r){v=o,_="invisible",r=".".concat(eB);let t=document.createElement("div");t.classList.add(eB),t.style.maxHeight="0",document.body.appendChild(t)}let w=async()=>new Promise((s,a)=>{try{let o=u.render(r,{sitekey:v,appearance:"interaction-only",theme:e||"auto",size:i||"normal",language:n||"auto",action:t.action,retry:"never","refresh-expired":"auto",callback:function(t){null==h||h(),s([t,o])},"before-interactive-callback":()=>{if(c){let t=document.querySelector(c);null==t||t.style.setProperty("visibility","visible"),null==t||t.style.setProperty("pointer-events","all")}else{let t=document.getElementById(eK);t&&(t.style.maxHeight="unset",t.style.minHeight="compact"===i?"140px":"68px",t.style.marginBottom="1.5rem")}},"error-callback":function(t){if(p.push(t),g<2&&eq(t.toString())){setTimeout(()=>{u.reset(o),g++},250);return}a([p.join(","),o])},"unsupported-callback":function(){return a(["This browser is not supported by the CAPTCHA.",o]),!0}})}catch(t){a([t,void 0])}});try{[f,m]=await w(),u.remove(m)}catch(i){let[t,e]=i;throw e&&u.remove(e),{captchaError:t}}finally{null==h||h();let t=document.querySelector(".".concat(eB));t&&document.body.removeChild(t);let e=document.getElementById(eK);e&&(e.style.maxHeight="0",e.style.minHeight="unset",e.style.marginBottom="unset")}return{captchaToken:f,captchaWidgetType:_}},eZ=t=>eY(t),eQ=t=>{let e=t.__unstable__environment,i=e?e.displayConfig.captchaProvider:"turnstile";return{captchaSiteKey:e?e.displayConfig.captchaPublicKey:null,captchaWidgetType:e?e.displayConfig.captchaWidgetType:null,captchaProvider:i,captchaPublicKeyInvisible:e?e.displayConfig.captchaPublicKeyInvisible:null,canUseCaptcha:e?e.userSettings.signUp.captcha_enabled&&t.isStandardBrowser:null}};class eX{async invisible(t){let{captchaSiteKey:e,canUseCaptcha:i,captchaPublicKeyInvisible:n}=eQ(this.clerk);if(i&&e&&n)return eZ({siteKey:n,invisibleSiteKey:n,widgetType:"invisible",captchaProvider:"turnstile",action:null==t?void 0:t.action}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}})}async managedOrInvisible(t){let{captchaSiteKey:e,canUseCaptcha:i,captchaWidgetType:n,captchaProvider:r,captchaPublicKeyInvisible:s}=eQ(this.clerk);return i&&e&&s?eZ({siteKey:e,widgetType:n,invisibleSiteKey:s,captchaProvider:r,...t}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}}):{}}async managedInModal(t){return this.managedOrInvisible({modalWrapperQuerySelector:"#cl-modal-captcha-wrapper",modalContainerQuerySelector:"#cl-modal-captcha-container",openModal:()=>this.clerk.__internal_openBlankCaptchaModal(),closeModal:()=>this.clerk.__internal_closeBlankCaptchaModal(),action:null==t?void 0:t.action})}constructor(t){p(this,"clerk",void 0),this.clerk=t}}class e0{static getInstance(){return e0.instance||(e0.instance=new e0(e9,eX)),e0.instance}async execute(t,e){try{return this.inflightException&&await this.inflightException,await e()}catch(s){var i;let n;if(!Z(s)||(null===(i=s.errors[0])||void 0===i?void 0:i.code)!=="requires_captcha")throw s;if(this.inflightException)return await this.inflightException,await e();this.inflightException=new Promise(t=>n=t);let r=await this.managedChallenge(t);try{await this.client.getOrCreateInstance().sendCaptchaToken(r)}finally{n(),this.inflightException=null}return await e()}}managedChallenge(t){return new this.CaptchaChallengeImpl(t).managedInModal({action:"verify"})}constructor(t,e){p(this,"client",void 0),p(this,"CaptchaChallengeImpl",void 0),p(this,"inflightException",void 0),this.client=t,this.CaptchaChallengeImpl=e,this.inflightException=null}}p(e0,"instance",void 0);class e1{static get fapiClient(){return e1.clerk.getFapiClient()}async reload(t){let{rotatingTokenNonce:e}=t||{};return this._baseGet({forceUpdateClient:!0,rotatingTokenNonce:e})}isNew(){return!this.id}static async _fetch(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e0.getInstance().execute(this.clerk,()=>this._baseFetch(t,e))}static async _baseFetch(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e1.fapiClient||function(){throw Error("".concat(eC," Missing FAPI client in resources."))}();let{fetchMaxTries:n}=i;try{e=await e1.fapiClient.request(t,{fetchMaxTries:n})}catch(t){if(this.shouldRethrowOfflineNetworkErrors())throw new te((null==t?void 0:t.message)||t,{code:"network_error"});if(!(L()&&F()))return console.warn(t),null;throw t}let{payload:r,status:s,statusText:a,headers:o}=e;if(o){let t=o.get("x-country");this.clerk.__internal_setCountry(t?t.toLowerCase():null)}if(("GET"!==t.method||i.forceUpdateClient)&&this._updateClient(r),s>=200&&s<=299)return r;if(s>=400){var l,c;let t=null==r?void 0:r.errors,e=null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.long_message,i=null==t?void 0:null===(c=t[0])||void 0===c?void 0:c.code;throw 401===s&&"requires_captcha"!==i&&await e1.clerk.handleUnauthenticated(),!function(t,e){var i;if(!e||!e[0])return;let n=e[0],r=n.long_message;if("origin_invalid"===n.code&&((i=e1.clerk.publishableKey).startsWith("live_")||i.startsWith("pk_live_"))){let i=e1.clerk.frontendApi.replace("clerk.","");throw new tt('Clerk: Production Keys are only allowed for domain "'.concat(i,'". \nAPI Error: ').concat(r),{data:e,status:t})}}(s,t),new tt(e||a,{data:t,status:s})}return null}static _updateClient(t){var e;if(!t)return;let i=t.client||(null===(e=t.meta)||void 0===e?void 0:e.client);i&&e1.clerk&&e1.clerk.updateClient(e9.getOrCreateInstance().fromJSON(i))}path(t){let e=this.pathRoot;if(this.isNew())return e;let i=e.replace(/[^/]$/,"$&/")+encodeURIComponent(this.id);return t?i.replace(/[^/]$/,"$&/")+encodeURIComponent(t):i}async _baseGet(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=await e1._fetch({method:"GET",path:this.path(),rotatingTokenNonce:t.rotatingTokenNonce},t);return this.fromJSON((null==e?void 0:e.response)||e)}async _baseMutate(t){let{action:e,body:i,method:n,path:r}=t,s=await e1._fetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _baseMutateBypass(t){let{action:e,body:i,method:n,path:r}=t,s=await e1._baseFetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _basePost(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"POST"})}async _basePostBypass(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutateBypass({...t,method:"POST"})}async _basePut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PUT"})}async _basePatch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PATCH"})}async _baseDelete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._baseMutate({...t,method:"DELETE"})}static shouldRethrowOfflineNetworkErrors(){var t,e;let i=null===(e=e1.clerk)||void 0===e?void 0:null===(t=e.__internal_getOption)||void 0===t?void 0:t.call(e,"experimental");return(null==i?void 0:i.rethrowOfflineNetworkErrors)||!1}constructor(){p(this,"id",void 0),p(this,"pathRoot","")}}p(e1,"clerk",void 0);class e3 extends e1{get instanceIsPasswordBased(){return this.attributes.password.enabled&&this.attributes.password.required}get hasValidAuthFactor(){return this.attributes.email_address.enabled||this.attributes.phone_number.enabled||this.attributes.password.required&&this.attributes.username.required}fromJSON(t){var e,i,n,r,s;return t&&(this.social=t.social,this.saml=t.saml,this.enterpriseSSO=t.enterprise_sso,this.attributes=Object.fromEntries(Object.entries(t.attributes).map(t=>[t[0],{...t[1],name:t[0]}])),this.actions=t.actions,this.signIn=t.sign_in,this.signUp=t.sign_up,this.passwordSettings={...t.password_settings,min_length:Math.max(null==t?void 0:null===(e=t.password_settings)||void 0===e?void 0:e.min_length,8),max_length:(null==t?void 0:null===(i=t.password_settings)||void 0===i?void 0:i.max_length)===0?72:Math.min(null==t?void 0:null===(n=t.password_settings)||void 0===n?void 0:n.max_length,72)},this.usernameSettings={...t.username_settings,min_length:Math.max(null==t?void 0:null===(r=t.username_settings)||void 0===r?void 0:r.min_length,4),max_length:Math.min(null==t?void 0:null===(s=t.username_settings)||void 0===s?void 0:s.max_length,64)},this.passkeySettings=t.passkey_settings,this.socialProviderStrategies=this.getSocialProviderStrategies(t.social),this.authenticatableSocialStrategies=this.getAuthenticatableSocialStrategies(t.social),this.web3FirstFactors=this.getWeb3FirstFactors(this.attributes),this.enabledFirstFactorIdentifiers=this.getEnabledFirstFactorIdentifiers(this.attributes)),this}__internal_toSnapshot(){return{social:this.social,saml:this.saml,attributes:this.attributes,actions:this.actions,sign_in:this.signIn,sign_up:this.signUp,password_settings:this.passwordSettings,passkey_settings:this.passkeySettings}}getEnabledFirstFactorIdentifiers(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&!e.startsWith("web3")}).map(t=>{let[e]=t;return e}):[]}getWeb3FirstFactors(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&e.startsWith("web3")}).map(t=>{let[,e]=t;return e.first_factors}).flat():[]}getSocialProviderStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}getAuthenticatableSocialStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled&&e.authenticatable}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}constructor(t){super(),p(this,"id",void 0),p(this,"social",void 0),p(this,"saml",void 0),p(this,"enterpriseSSO",void 0),p(this,"attributes",void 0),p(this,"actions",void 0),p(this,"signIn",void 0),p(this,"signUp",void 0),p(this,"passwordSettings",void 0),p(this,"passkeySettings",void 0),p(this,"usernameSettings",void 0),p(this,"socialProviderStrategies",[]),p(this,"authenticatableSocialStrategies",[]),p(this,"web3FirstFactors",[]),p(this,"enabledFirstFactorIdentifiers",[]),this.fromJSON(t)}}function e2(t){let e=new Date(t||new Date);return e instanceof Date&&!isNaN(e.getTime())?e:new Date}class e5 extends e1{fromJSON(t){return this.singleSessionMode=!t||t.single_session_mode,this.claimedAt=(null==t?void 0:t.claimed_at)?e2(t.claimed_at):null,this.reverification=!t||t.reverification,this}__internal_toSnapshot(){return{object:"auth_config",id:this.id||"",single_session_mode:this.singleSessionMode,claimed_at:this.claimedAt?this.claimedAt.getTime():null,reverification:this.reverification}}constructor(t){super(),p(this,"singleSessionMode",void 0),p(this,"claimedAt",null),p(this,"reverification",void 0),this.fromJSON(t)}}class e4{static fromKey(t){let[e,i,n=""]=t.split("::");return new e4(e,{audience:n,tokenId:i})}toKey(){let{tokenId:t,audience:e}=this.data;return[this.prefix,t,e||""].join("::")}constructor(t,e){p(this,"prefix",void 0),p(this,"data",void 0),this.prefix=t,this.data=e,this.prefix=t,this.data=e}}let e6=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clerk",i=new Map;return{get:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=new e4(e,t),s=i.get(r.toKey());if(!s)return;let a=Math.floor(Date.now()/1e3)-s.createdAt;if(s.expiresIn-a<(n||1)+5){i.delete(r.toKey());return}return s.entry},set:n=>{let r=new e4(e,{audience:n.audience,tokenId:n.tokenId}).toKey(),s={entry:n,createdAt:Math.floor(Date.now()/1e3)},a=()=>{i.get(r)===s&&i.delete(r)};n.tokenResolver.then(e=>{if(!e.jwt)return a();let i=e.jwt.claims.exp-e.jwt.claims.iat;s.expiresIn=i,"function"==typeof(t=setTimeout(a,1e3*i)).unref&&t.unref()}).catch(()=>{a()}),i.set(r,s)},clear:()=>{clearTimeout(t),i.clear()},size:()=>i.size}}();class e9 extends e1{static getOrCreateInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e9.instance||(e9.instance=new e9(t)),e9.instance}static clearInstance(){e9.instance=null}static isClientResource(t){return!!t&&t instanceof e9}get signUpAttempt(){return this.signUp}get signInAttempt(){return this.signIn}get activeSessions(){return this.sessions.filter(t=>"active"===t.status)}get signedInSessions(){return this.sessions.filter(t=>"active"===t.status||"pending"===t.status)}create(){return this._basePut()}fetch(){let{fetchMaxTries:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseGet({fetchMaxTries:t})}async destroy(){return this._baseDelete({path:"/client"}).then(()=>{e6.clear(),this.id="",this.sessions=[],this.signUp=new nh(null),this.signIn=new no(null),this.lastActiveSessionId=null,this.cookieExpiresAt=null,this.createdAt=null,this.updatedAt=null})}removeSessions(){return this._baseDelete({path:this.path()+"/sessions"}).then(t=>(e6.clear(),t))}clearCache(){return this.sessions.forEach(t=>t.clearCache())}isEligibleForTouch(){return!!this.cookieExpiresAt&&this.cookieExpiresAt.getTime()-Date.now()<=6912e5}buildTouchUrl(t){let{redirectUrl:e}=t;return e1.fapiClient.buildUrl({method:"GET",path:"/client/touch",pathPrefix:"v1",search:{redirect_url:e.toString()}}).toString()}sendCaptchaToken(t){return this._basePostBypass({body:t,path:this.path()+"/verify"})}fromJSON(t){return t&&(this.id=t.id,this.sessions=(t.sessions||[]).map(t=>new i4(t)),this.signUp=new nh(t.sign_up),this.signIn=new no(t.sign_in),this.lastActiveSessionId=t.last_active_session_id,this.captchaBypass=t.captcha_bypass||!1,this.cookieExpiresAt=t.cookie_expires_at?e2(t.cookie_expires_at):null,this.createdAt=e2(t.created_at||void 0),this.updatedAt=e2(t.updated_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"client",status:null,id:this.id||"",sessions:this.sessions.map(t=>t.__internal_toSnapshot()),sign_up:this.signUp.__internal_toSnapshot(),sign_in:this.signIn.__internal_toSnapshot(),last_active_session_id:this.lastActiveSessionId,captcha_bypass:this.captchaBypass,cookie_expires_at:this.cookieExpiresAt?this.cookieExpiresAt.getTime():null,created_at:null!==(i=null===(t=this.createdAt)||void 0===t?void 0:t.getTime())&&void 0!==i?i:null,updated_at:null!==(n=null===(e=this.updatedAt)||void 0===e?void 0:e.getTime())&&void 0!==n?n:null}}path(){return this.pathRoot}constructor(t=null){super(),p(this,"pathRoot","/client"),p(this,"sessions",[]),p(this,"signUp",new nh),p(this,"signIn",new no),p(this,"lastActiveSessionId",null),p(this,"captchaBypass",!1),p(this,"cookieExpiresAt",null),p(this,"createdAt",null),p(this,"updatedAt",null),this.fromJSON(t)}}p(e9,"instance",void 0);class e7{fromJSON(t){return t&&(this.object=t.object,this.id=t.id,this.slug=t.slug,this.deleted=t.deleted),this}constructor(t){p(this,"object",""),p(this,"id",void 0),p(this,"slug",void 0),p(this,"deleted",!1),this.fromJSON(t)}}class e8 extends e1{fromJSON(t){return t&&(this.id=t.id,this.instanceEnvironmentType=t.instance_environment_type,this.applicationName=t.application_name,this.theme=t.theme,this.preferredSignInStrategy=t.preferred_sign_in_strategy,this.logoImageUrl=t.logo_image_url,this.faviconImageUrl=t.favicon_image_url,this.homeUrl=t.home_url,this.signInUrl=t.sign_in_url,this.signUpUrl=t.sign_up_url,this.userProfileUrl=t.user_profile_url,this.afterSignInUrl=t.after_sign_in_url,this.afterSignUpUrl=t.after_sign_up_url,this.afterSignOutOneUrl=t.after_sign_out_one_url,this.afterSignOutAllUrl=t.after_sign_out_all_url,this.afterSwitchSessionUrl=t.after_switch_session_url,this.branded=t.branded,this.captchaPublicKey=t.captcha_public_key,this.captchaWidgetType=t.captcha_widget_type,this.captchaProvider=t.captcha_provider,this.captchaPublicKeyInvisible=t.captcha_public_key_invisible,this.captchaOauthBypass=t.captcha_oauth_bypass||["oauth_google","oauth_microsoft","oauth_apple"],this.captchaHeartbeat=t.captcha_heartbeat||!1,this.captchaHeartbeatIntervalMs=t.captcha_heartbeat_interval_ms,this.supportEmail=t.support_email||"",this.clerkJSVersion=t.clerk_js_version,this.organizationProfileUrl=t.organization_profile_url,this.createOrganizationUrl=t.create_organization_url,this.afterLeaveOrganizationUrl=t.after_leave_organization_url,this.afterCreateOrganizationUrl=t.after_create_organization_url,this.googleOneTapClientId=t.google_one_tap_client_id,this.showDevModeWarning=t.show_devmode_warning,this.termsUrl=t.terms_url,this.privacyPolicyUrl=t.privacy_policy_url,this.waitlistUrl=t.waitlist_url,this.afterJoinWaitlistUrl=t.after_join_waitlist_url),this}__internal_toSnapshot(){return{object:"display_config",id:this.id,instance_environment_type:this.instanceEnvironmentType,application_name:this.applicationName,theme:this.theme,preferred_sign_in_strategy:this.preferredSignInStrategy,logo_image_url:this.logoImageUrl,favicon_image_url:this.faviconImageUrl,home_url:this.homeUrl,sign_in_url:this.signInUrl,sign_up_url:this.signUpUrl,user_profile_url:this.userProfileUrl,after_sign_in_url:this.afterSignInUrl,after_sign_up_url:this.afterSignUpUrl,after_sign_out_one_url:this.afterSignOutOneUrl,after_sign_out_all_url:this.afterSignOutAllUrl,after_switch_session_url:this.afterSwitchSessionUrl,branded:this.branded,captcha_public_key:this.captchaPublicKey,captcha_widget_type:this.captchaWidgetType,captcha_provider:this.captchaProvider,captcha_public_key_invisible:this.captchaPublicKeyInvisible,captcha_oauth_bypass:this.captchaOauthBypass,captcha_heartbeat:this.captchaHeartbeat,captcha_heartbeat_interval_ms:this.captchaHeartbeatIntervalMs,support_email:this.supportEmail,clerk_js_version:this.clerkJSVersion,organization_profile_url:this.organizationProfileUrl,create_organization_url:this.createOrganizationUrl,after_leave_organization_url:this.afterLeaveOrganizationUrl,after_create_organization_url:this.afterCreateOrganizationUrl,google_one_tap_client_id:this.googleOneTapClientId,show_devmode_warning:this.showDevModeWarning,terms_url:this.termsUrl,privacy_policy_url:this.privacyPolicyUrl,waitlist_url:this.waitlistUrl,after_join_waitlist_url:this.afterJoinWaitlistUrl}}constructor(t){super(),p(this,"id",void 0),p(this,"afterSignInUrl",void 0),p(this,"afterSignOutAllUrl",void 0),p(this,"afterSignOutOneUrl",void 0),p(this,"afterSignOutUrl",void 0),p(this,"afterSignUpUrl",void 0),p(this,"afterSwitchSessionUrl",void 0),p(this,"applicationName",void 0),p(this,"backendHost",void 0),p(this,"branded",void 0),p(this,"captchaPublicKey",null),p(this,"captchaWidgetType",null),p(this,"captchaProvider","turnstile"),p(this,"captchaPublicKeyInvisible",null),p(this,"captchaOauthBypass",[]),p(this,"captchaHeartbeat",!1),p(this,"captchaHeartbeatIntervalMs",void 0),p(this,"homeUrl",void 0),p(this,"instanceEnvironmentType",void 0),p(this,"faviconImageUrl",void 0),p(this,"logoImageUrl",void 0),p(this,"preferredSignInStrategy",void 0),p(this,"signInUrl",void 0),p(this,"signUpUrl",void 0),p(this,"supportEmail",void 0),p(this,"theme",void 0),p(this,"userProfileUrl",void 0),p(this,"clerkJSVersion",void 0),p(this,"experimental__forceOauthFirst",void 0),p(this,"organizationProfileUrl",void 0),p(this,"createOrganizationUrl",void 0),p(this,"afterLeaveOrganizationUrl",void 0),p(this,"afterCreateOrganizationUrl",void 0),p(this,"googleOneTapClientId",void 0),p(this,"showDevModeWarning",void 0),p(this,"termsUrl",void 0),p(this,"privacyPolicyUrl",void 0),p(this,"waitlistUrl",void 0),p(this,"afterJoinWaitlistUrl",void 0),this.fromJSON(t)}}var it='const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id}),delete workerToTabIds[e.id]},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});\n',ie=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof Worker)return null;try{let i=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=globalThis.URL.createObjectURL(i);return new Worker(n,e)}catch{return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},ii=()=>{let t=globalThis.setTimeout.bind(globalThis),e=globalThis.setInterval.bind(globalThis);return{setTimeout:t,setInterval:e,clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis),cleanup:tR}},ir=()=>{let t=0,e=()=>t++,i=new Map,n=(t,e)=>null==t?void 0:t.postMessage(e),r=t=>{var e;null===(e=i.get(t.data.id))||void 0===e||e()},s=ie(it,{name:"clerk-timers"});if(null==s||s.addEventListener("message",r),!s)return ii();let a=()=>{s||null==(s=ie(it,{name:"clerk-timers"}))||s.addEventListener("message",r)};return{setTimeout:(t,r)=>{a();let o=e();return i.set(o,()=>{t(),i.delete(o)}),n(s,{type:"setTimeout",id:o,ms:r}),o},setInterval:(t,r)=>{a();let o=e();return i.set(o,t),n(s,{type:"setInterval",id:o,ms:r}),o},clearTimeout:t=>{a(),i.delete(t),n(s,{type:"clearTimeout",id:t})},clearInterval:t=>{a(),i.delete(t),n(s,{type:"clearInterval",id:t})},cleanup:()=>{s&&(s.terminate(),s=null,i.clear())}}};function is(){let t,{delayInMs:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{delayInMs:1e3},i=ir(),n=!1,r=()=>{t&&(i.clearTimeout(t),i.cleanup()),n=!0},s=async a=>{n=!1,await a(r),!n&&(t=i.setTimeout(()=>{s(a)},e))};return{run:s,stop:r}}class ia extends e1{create(){return this._basePost({body:{email_address:this.emailAddress}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.verification=new ib(t.verification),this.matchesSsoConnection=t.matches_sso_connection,this.linkedTo=(t.linked_to||[]).map(t=>new iO(t))),this}__internal_toSnapshot(){return{object:"email_address",id:this.id,email_address:this.emailAddress,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot()),matches_sso_connection:this.matchesSsoConnection}}constructor(t,e){super(),p(this,"id",void 0),p(this,"emailAddress",""),p(this,"matchesSsoConnection",!1),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=is();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return await this.prepareVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"createEnterpriseSSOLinkFlow",()=>{let{run:t,stop:e}=is();return{startEnterpriseSSOLinkFlow:async i=>{let{redirectUrl:n}=i;if(!(await this.prepareVerification({strategy:"enterprise_sso",redirectUrl:n})).verification.externalVerificationRedirectURL)throw Error("Unexpected: External verification redirect URL is missing");return new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEnterpriseSSOLinkFlow:e}}),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>this.emailAddress),this.pathRoot=e,this.fromJSON(t)}}class io extends e1{fromJSON(t){let{enabled:e=!1,max_allowed_memberships:i=0,actions:n,domains:r}=t||{};return this.enabled=e,this.maxAllowedMemberships=i,this.actions={adminDelete:(null==n?void 0:n.admin_delete)||!1},this.domains={enabled:(null==r?void 0:r.enabled)||!1,enrollmentModes:(null==r?void 0:r.enrollment_modes)||[],defaultRole:(null==r?void 0:r.default_role)||null},this}__internal_toSnapshot(){return{enabled:this.enabled,max_allowed_memberships:this.maxAllowedMemberships,actions:{admin_delete:this.actions.adminDelete},domains:{enabled:this.domains.enabled,enrollment_modes:this.domains.enrollmentModes,default_role:this.domains.defaultRole}}}constructor(t){super(),p(this,"enabled",void 0),p(this,"maxAllowedMemberships",void 0),p(this,"actions",void 0),p(this,"domains",void 0),this.fromJSON(t)}}class il extends e1{static getInstance(){return il.instance||(il.instance=new il),il.instance}fetch(){let{touch:t,fetchMaxTries:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touch:!1};return t?this._basePatch({}):this._baseGet({fetchMaxTries:e})}fromJSON(t){return t&&(this.authConfig=new e5(t.auth_config),this.displayConfig=new e8(t.display_config),this.userSettings=new e3(t.user_settings),this.organizationSettings=new io(t.organization_settings),this.maintenanceMode=t.maintenance_mode),this}__internal_toSnapshot(){return{object:"environment",id:this.id||"",auth_config:this.authConfig.__internal_toSnapshot(),display_config:this.displayConfig.__internal_toSnapshot(),user_settings:this.userSettings.__internal_toSnapshot(),organization_settings:this.organizationSettings.__internal_toSnapshot(),maintenance_mode:this.maintenanceMode}}constructor(t=null){super(),p(this,"pathRoot","/environment"),p(this,"authConfig",void 0),p(this,"displayConfig",void 0),p(this,"userSettings",void 0),p(this,"organizationSettings",void 0),p(this,"maintenanceMode",void 0),p(this,"isSingleSession",()=>this.authConfig.singleSessionMode),p(this,"isProduction",()=>"production"===this.displayConfig.instanceEnvironmentType),p(this,"isDevelopmentOrStaging",()=>!this.isProduction()),p(this,"onWindowLocationHost",()=>this.displayConfig.backendHost===window.location.host),this.fromJSON(t)}}p(il,"instance",void 0);class ic{static encode(t){return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(t){let e=atob(t.replace(/-/g,"+").replace(/_/g,"/")),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}}async function ih(t){try{let e=await navigator.credentials.create({publicKey:t});if(!e)return{error:new ts("Browser failed to create credential",{code:"passkey_registration_failed"}),publicKeyCredential:null};return{publicKeyCredential:e,error:null}}catch(t){var e;return{error:"InvalidStateError"===(e=t).name?new ts(e.message,{code:"passkey_already_exists"}):"NotAllowedError"===e.name?new ts(e.message,{code:"passkey_registration_cancelled"}):ip(e),publicKeyCredential:null}}}let id=new class{__abort(){if(!this.controller)return;let t=Error();t.name="AbortError",this.controller.abort(t)}createAbortSignal(){this.__abort();let t=new AbortController;return this.controller=t,t.signal}abort(){this.__abort(),this.controller=void 0}constructor(){p(this,"controller",void 0)}};async function iu(t){let{publicKeyOptions:e,conditionalUI:i}=t;try{let t=await navigator.credentials.get({publicKey:e,mediation:i?"conditional":"optional",signal:id.createAbortSignal()});if(!t)return{error:new ts("Browser failed to get credential",{code:"passkey_retrieval_failed"}),publicKeyCredential:null};return{publicKeyCredential:t,error:null}}catch(t){var n;return{error:"NotAllowedError"===(n=t).name?new ts(n.message,{code:"passkey_retrieval_cancelled"}):ip(n),publicKeyCredential:null}}}function ip(t){return"AbortError"===t.name?new ts(t.message,{code:"passkey_operation_aborted"}):"SecurityError"===t.name?new ts(t.message,{code:"passkey_invalid_rpID_or_domain"}):t}function im(t){let e=iw(t.challenge),i=(t.allowCredentials||[]).map(t=>({...t,id:iw(t.id)}));return{...t,allowCredentials:i,challenge:e}}function iv(t){return{type:t.type,id:t.id,rawId:i_(t.rawId),authenticatorAttachment:t.authenticatorAttachment}}function ig(t){let e=t.response;return{...iv(t),response:{clientDataJSON:i_(e.clientDataJSON),authenticatorData:i_(e.authenticatorData),signature:i_(e.signature),userHandle:e.userHandle?i_(e.userHandle):null}}}let i_=ic.encode.bind(ic),iw=ic.decode.bind(ic);class ib extends e1{fromJSON(t){return t&&(this.status=t.status,this.verifiedAtClient=t.verified_at_client,this.strategy=t.strategy,this.nonce=t.nonce||null,this.message=t.message||null,t.external_verification_redirect_url?this.externalVerificationRedirectURL=new URL(t.external_verification_redirect_url):this.externalVerificationRedirectURL=null,this.attempts=t.attempts,this.expireAt=e2(t.expire_at||void 0),this.error=t.error?X(t.error):null),this}__internal_toSnapshot(){var t,e,i,n,r,s,a,o;return{object:"verification",id:this.id||"",status:this.status,strategy:this.strategy,nonce:this.nonce,message:this.message,external_verification_redirect_url:(null===(t=this.externalVerificationRedirectURL)||void 0===t?void 0:t.toString())||null,attempts:this.attempts,expire_at:(null===(e=this.expireAt)||void 0===e?void 0:e.getTime())||null,error:{code:(null==(i=this.error)?void 0:i.code)||"",message:(null==i?void 0:i.message)||"",long_message:null==i?void 0:i.longMessage,meta:{param_name:null==i?void 0:null===(n=i.meta)||void 0===n?void 0:n.paramName,session_id:null==i?void 0:null===(r=i.meta)||void 0===r?void 0:r.sessionId,email_addresses:null==i?void 0:null===(s=i.meta)||void 0===s?void 0:s.emailAddresses,identifiers:null==i?void 0:null===(a=i.meta)||void 0===a?void 0:a.identifiers,zxcvbn:null==i?void 0:null===(o=i.meta)||void 0===o?void 0:o.zxcvbn}},verified_at_client:this.verifiedAtClient}}constructor(t){super(),p(this,"pathRoot",""),p(this,"status",null),p(this,"strategy",null),p(this,"nonce",null),p(this,"message",null),p(this,"externalVerificationRedirectURL",null),p(this,"attempts",null),p(this,"expireAt",null),p(this,"error",null),p(this,"verifiedAtClient",null),p(this,"verifiedFromTheSameClient",()=>{var t,e;return this.verifiedAtClient===(null===(e=e1.clerk)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.id)}),this.fromJSON(t)}}class iy extends ib{fromJSON(t){return super.fromJSON(t),(null==t?void 0:t.nonce)&&(this.publicKey=function(t){let e=iw(t.user.id),i=iw(t.challenge),n=(t.excludeCredentials||[]).map(t=>({...t,id:iw(t.id)}));return{...t,excludeCredentials:n,challenge:i,user:{...t.user,id:e}}}(JSON.parse(t.nonce))),this}constructor(t){super(t),p(this,"publicKey",null),this.fromJSON(t)}}class iS{__internal_toSnapshot(){return{email_address:this.emailAddress.__internal_toSnapshot(),phone_number:this.phoneNumber.__internal_toSnapshot(),web3_wallet:this.web3Wallet.__internal_toSnapshot(),external_account:this.externalAccount.__internal_toSnapshot()}}constructor(t){p(this,"emailAddress",void 0),p(this,"phoneNumber",void 0),p(this,"web3Wallet",void 0),p(this,"externalAccount",void 0),t?(this.emailAddress=new ik(t.email_address),this.phoneNumber=new ik(t.phone_number),this.web3Wallet=new ik(t.web3_wallet),this.externalAccount=new ib(t.external_account)):(this.emailAddress=new ik(null),this.phoneNumber=new ik(null),this.web3Wallet=new ik(null),this.externalAccount=new ib(null))}}class ik extends ib{__internal_toSnapshot(){return{...super.__internal_toSnapshot(),next_action:this.nextAction,supported_strategies:this.supportedStrategies}}constructor(t){super(t),p(this,"nextAction",void 0),p(this,"supportedStrategies",void 0),t?(this.nextAction=t.next_action,this.supportedStrategies=t.supported_strategies):(this.nextAction="",this.supportedStrategies=[])}}class iU extends e1{fromJSON(t){return t&&(this.id=t.id,this.identificationId=t.identification_id,this.providerUserId=t.provider_user_id,this.approvedScopes=t.approved_scopes,this.imageUrl=t.image_url,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.provider=(t.provider||"").replace("oauth_",""),this.username=t.username,this.publicMetadata=t.public_metadata,this.label=t.label,t.verification&&(this.verification=new ib(t.verification))),this}__internal_toSnapshot(){var t;return{object:"external_account",id:this.id,identification_id:this.identificationId,provider:this.provider,provider_user_id:this.providerUserId,email_address:this.emailAddress,approved_scopes:this.approvedScopes,first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,username:this.username,public_metadata:this.publicMetadata,label:this.label,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null}}providerSlug(){return this.provider}providerTitle(){return[function(t){let e=t||"";return e.charAt(0).toUpperCase()+e.slice(1)}(this.providerSlug()),"Account"].join(" ")}accountIdentifier(){return this.username||this.emailAddress||this.label}constructor(t,e){super(),p(this,"id",void 0),p(this,"identificationId",void 0),p(this,"provider",void 0),p(this,"providerUserId",""),p(this,"emailAddress",""),p(this,"approvedScopes",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"imageUrl",""),p(this,"username",""),p(this,"publicMetadata",{}),p(this,"label",""),p(this,"verification",null),p(this,"reauthorize",t=>{let{additionalScopes:e,redirectUrl:i}=t||{};return this._basePatch({action:"reauthorize",body:{additional_scope:e,redirect_url:i}})}),p(this,"destroy",()=>this._baseDelete()),this.pathRoot=e,this.fromJSON(t)}}class iA extends e1{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.protocol=t.protocol,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.publicMetadata=t.public_metadata,t.verification&&(this.verification=new ib(t.verification)),t.enterprise_connection&&(this.enterpriseConnection=new iI(t.enterprise_connection))),this}__internal_toSnapshot(){var t,e;return{object:"enterprise_account",id:this.id,provider:this.provider,protocol:this.protocol,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,public_metadata:this.publicMetadata,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,enterprise_connection:(null===(e=this.enterpriseConnection)||void 0===e?void 0:e.__internal_toSnapshot())||null}}constructor(t,e){super(),p(this,"id",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"providerUserId",null),p(this,"active",void 0),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"publicMetadata",{}),p(this,"verification",null),p(this,"enterpriseConnection",null),this.pathRoot=e,this.fromJSON(t)}}class iI extends e1{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.logoPublicUrl=t.logo_public_url,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}__internal_toSnapshot(){return{object:"enterprise_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,protocol:this.protocol,provider:this.provider,logo_public_url:this.logoPublicUrl,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"active",void 0),p(this,"allowIdpInitiated",void 0),p(this,"allowSubdomains",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"domain",void 0),p(this,"logoPublicUrl",""),p(this,"name",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class iO extends e1{fromJSON(t){return t&&(this.id=t.id,this.type=t.type),this}__internal_toSnapshot(){return{object:"identification_link",id:this.id,type:this.type}}constructor(t){super(),p(this,"id",void 0),p(this,"type",void 0),this.fromJSON(t)}}class iC extends e1{static async create(t){var e;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n;return"string"==typeof n.file?(r=n.file,i=new Headers({"Content-Type":"application/octet-stream"})):n.file&&(r=new FormData).append("file",n.file),new iC(null===(e=await e1._fetch({path:t,method:"POST",body:r,headers:i}))||void 0===e?void 0:e.response)}static async delete(t){var e;return new iC(null===(e=await e1._fetch({path:t,method:"DELETE"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.publicUrl=t.public_url),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",null),p(this,"publicUrl",null),this.fromJSON(t)}}class iP extends e1{fromJSON(t){return t&&(this.id=t.id,this.phoneNumber=t.phone_number,this.reservedForSecondFactor=t.reserved_for_second_factor,this.defaultSecondFactor=t.default_second_factor,this.verification=new ib(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new iO(t)),this.backupCodes=t.backup_codes),this}__internal_toSnapshot(){return{object:"phone_number",id:this.id||"",phone_number:this.phoneNumber,reserved_for_second_factor:this.reservedForSecondFactor,default_second_factor:this.defaultSecondFactor,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot()),backup_codes:this.backupCodes}}constructor(t,e){super(),p(this,"id",void 0),p(this,"phoneNumber",""),p(this,"reservedForSecondFactor",!1),p(this,"defaultSecondFactor",!1),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"backupCodes",void 0),p(this,"create",()=>this._basePost({body:{phone_number:this.phoneNumber}})),p(this,"prepareVerification",()=>this._basePost({action:"prepare_verification",body:{strategy:"phone_code"}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"setReservedForSecondFactor",t=>{let{reserved:e}=t||{};return this._basePatch({body:{reserved_for_second_factor:e}})}),p(this,"makeDefaultSecondFactor",()=>this._basePatch({body:{default_second_factor:!0}})),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>{let t=this.phoneNumber.match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:this.phoneNumber}),this.pathRoot=e,this.fromJSON(t)}}function iE(t){let{pageSize:e,initialPage:i,...n}=t||{},r=null!=e?e:10;return new URLSearchParams({...Object.entries(n).reduce((t,e)=>{let[i,n]=e;return void 0!==n&&(t[i]=n),t},{}),limit:r+"",offset:((null!=i?i:1)-1)*r+""})}class iT extends e1{static async create(t,e){var i;let{name:n}=e;return new iT(null===(i=await e1._fetch({path:"/organizations/".concat(t,"/domains"),method:"POST",body:{name:n}}))||void 0===i?void 0:i.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.organizationId=t.organization_id,this.enrollmentMode=t.enrollment_mode,this.affiliationEmailAddress=t.affiliation_email_address,this.totalPendingSuggestions=t.total_pending_suggestions,this.totalPendingInvitations=t.total_pending_invitations,t.verification?this.verification={status:t.verification.status,strategy:t.verification.strategy,attempts:t.verification.attempts,expiresAt:e2(t.verification.expires_at)}:this.verification=null),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"organizationId",void 0),p(this,"enrollmentMode",void 0),p(this,"verification",void 0),p(this,"affiliationEmailAddress",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"totalPendingInvitations",void 0),p(this,"totalPendingSuggestions",void 0),p(this,"prepareAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/prepare_affiliation_verification"),method:"POST",body:t})),p(this,"attemptAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/attempt_affiliation_verification"),method:"POST",body:t})),p(this,"updateEnrollmentMode",t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/update_enrollment_mode"),body:t})),p(this,"delete",()=>this._baseDelete({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id)})),this.fromJSON(t)}}class ix extends e1{fromJSON(t){return t&&(this.id=t.id,this.organizationId=t.organization_id,this.status=t.status,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at),t.public_user_data&&(this.publicUserData=new i7(t.public_user_data))),this}constructor(t){super(),p(this,"id",void 0),p(this,"organizationId",void 0),p(this,"status",void 0),p(this,"publicUserData",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/accept")})),p(this,"reject",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/reject")})),this.fromJSON(t)}}class iM extends e1{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.type=t.type,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"type",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class iR extends e1{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.permissions=t.permissions.map(t=>new iM(t)),this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"permissions",[]),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class iz extends e1{static async create(t){var e;return new iz(null===(e=await e1._fetch({path:"/organizations",method:"POST",body:t}))||void 0===e?void 0:e.response)}static async get(t){var e;return new iz(null===(e=await e1._fetch({path:"/organizations/".concat(t),method:"GET"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.slug=t.slug,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.publicMetadata=t.public_metadata,this.membersCount=t.members_count,this.pendingInvitationsCount=t.pending_invitations_count,this.maxAllowedMemberships=t.max_allowed_memberships,this.adminDeleteEnabled=t.admin_delete_enabled,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization",id:this.id,name:this.name,slug:this.slug,image_url:this.imageUrl,has_image:this.hasImage,public_metadata:this.publicMetadata,members_count:this.membersCount,pending_invitations_count:this.pendingInvitationsCount,max_allowed_memberships:this.maxAllowedMemberships,admin_delete_enabled:this.adminDeleteEnabled,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async reload(t){var e;let{rotatingTokenNonce:i}=t||{},n=null===(e=await e1._fetch({path:"/organizations/".concat(this.id),method:"GET",rotatingTokenNonce:i},{forceUpdateClient:!0}))||void 0===e?void 0:e.response;return this.fromJSON(n)}constructor(t){super(),p(this,"pathRoot","/organizations"),p(this,"id",void 0),p(this,"name",void 0),p(this,"slug",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"publicMetadata",{}),p(this,"adminDeleteEnabled",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"membersCount",0),p(this,"pendingInvitationsCount",0),p(this,"maxAllowedMemberships",void 0),p(this,"update",async t=>this._basePatch({body:t})),p(this,"getRoles",async t=>await e1._fetch({path:"/organizations/".concat(this.id,"/roles"),method:"GET",search:iE(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iR(t))}})),p(this,"getDomains",async t=>await e1._fetch({path:"/organizations/".concat(this.id,"/domains"),method:"GET",search:iE(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iT(t))}})),p(this,"getDomain",async t=>{var e;let{domainId:i}=t;return new iT(null===(e=await e1._fetch({path:"/organizations/".concat(this.id,"/domains/").concat(i),method:"GET"}))||void 0===e?void 0:e.response)}),p(this,"getMembershipRequests",async t=>await e1._fetch({path:"/organizations/".concat(this.id,"/membership_requests"),method:"GET",search:iE(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new ix(t))}})),p(this,"createDomain",async t=>iT.create(this.id,{name:t})),p(this,"getMemberships",async t=>await e1._fetch({path:"/organizations/".concat(this.id,"/memberships"),method:"GET",search:iE({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iN(t))}})),p(this,"getInvitations",async t=>await e1._fetch({path:"/organizations/".concat(this.id,"/invitations"),method:"GET",search:iE(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iW(t))}})),p(this,"addMember",async t=>{let{userId:e,role:i}=t;return await e1._fetch({method:"POST",path:"/organizations/".concat(this.id,"/memberships"),body:{userId:e,role:i}}).then(t=>new iN(null==t?void 0:t.response))}),p(this,"inviteMember",async t=>iW.create(this.id,t)),p(this,"inviteMembers",async t=>iW.createBulk(this.id,t)),p(this,"updateMember",async t=>{let{userId:e,role:i}=t;return await e1._fetch({method:"PATCH",path:"/organizations/".concat(this.id,"/memberships/").concat(e),body:{role:i}}).then(t=>new iN(null==t?void 0:t.response))}),p(this,"removeMember",async t=>await e1._fetch({method:"DELETE",path:"/organizations/".concat(this.id,"/memberships/").concat(t)}).then(t=>new iN(null==t?void 0:t.response))),p(this,"destroy",async()=>this._baseDelete()),p(this,"setLogo",async t=>{let e,i,{file:n}=t;return null===n?await e1._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"DELETE"}).then(t=>new iz(null==t?void 0:t.response)):("string"==typeof n?(e=n,i=new Headers({"Content-Type":"application/octet-stream"})):(e=new FormData).append("file",n),await e1._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"PUT",body:e,headers:i}).then(t=>new iz(null==t?void 0:t.response)))}),this.fromJSON(t)}}class iW extends e1{static async create(t,e){var i;let{emailAddress:n,role:r}=e;return new iW(null===(i=await e1._fetch({path:"/organizations/".concat(t,"/invitations"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response)}static async createBulk(t,e){var i;let{emailAddresses:n,role:r}=e;return(null===(i=await e1._fetch({path:"/organizations/".concat(t,"/invitations/bulk"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response).map(t=>new iW(t))}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.organizationId=t.organization_id,this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"organizationId",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"revoke",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/invitations/").concat(this.id,"/revoke")})),this.fromJSON(t)}}class iN extends e1{fromJSON(t){return t&&(this.id=t.id,this.organization=new iz(t.organization),this.publicMetadata=t.public_metadata,t.public_user_data&&(this.publicUserData=new i7(t.public_user_data)),this.permissions=Array.isArray(t.permissions)?[...t.permissions]:[],this.role=t.role,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization_membership",id:this.id,organization:this.organization.__internal_toSnapshot(),public_metadata:this.publicMetadata,public_user_data:this.publicUserData.__internal_toSnapshot(),permissions:this.permissions,role:this.role,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}reload(t){!function(t){throw Error("".concat(eC," Calling ").concat(t,".reload is not currently supported. Please contact support."))}("OrganizationMembership")}constructor(t){super(),p(this,"id",void 0),p(this,"publicMetadata",{}),p(this,"publicUserData",void 0),p(this,"organization",void 0),p(this,"permissions",[]),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"destroy",async()=>await this._baseDelete({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId)})),p(this,"update",async t=>{let{role:e}=t;return await this._basePatch({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId),body:{role:e}})}),this.fromJSON(t)}}p(iN,"retrieve",async t=>await e1._fetch({path:"/me/organization_memberships",method:"GET",search:iE({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iN(t))}}));class iF extends e1{static async retrieve(t){return await e1._fetch({path:"/me/organization_suggestions",method:"GET",search:iE(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iF(t))}})}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"publicOrganizationData",void 0),p(this,"status",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_suggestions/".concat(this.id,"/accept")})),this.fromJSON(t)}}class iL extends e1{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,t.verification&&(this.verification=new ib(t.verification)),t.saml_connection&&(this.samlConnection=new ij(t.saml_connection))),this}__internal_toSnapshot(){var t,e;return{object:"saml_account",id:this.id,provider:this.provider,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,saml_connection:null===(e=this.samlConnection)||void 0===e?void 0:e.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"provider","saml_custom"),p(this,"providerUserId",null),p(this,"active",!1),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"verification",null),p(this,"samlConnection",null),this.pathRoot=e,this.fromJSON(t)}}class ij extends e1{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}__internal_toSnapshot(){return{object:"saml_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,provider:this.provider,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"domain",void 0),p(this,"active",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"allowSubdomains",void 0),p(this,"allowIdpInitiated",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}var iD={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},iJ=new Set(["first_factor","second_factor","multi_factor"]),iV=new Set(["strict_mfa","strict","moderate","lax"]),iK=t=>"number"==typeof t&&t>0,iB=t=>iJ.has(t),iq=t=>iV.has(t),iH=(t,e)=>{let{orgId:i,orgRole:n,orgPermissions:r}=e;return(t.role||t.permission)&&i&&n&&r?t.permission?r.includes(t.permission):t.role?n===t.role:null:null},iG=t=>{if(!t)return!1;let e="string"==typeof t&&iq(t),i="object"==typeof t&&iB(t.level)&&iK(t.afterMinutes);return(!!e||!!i)&&(t=>"string"==typeof t?iD[t]:t).bind(null,t)},i$=(t,e)=>{let{factorVerificationAge:i}=e;if(!t.reverification||!i)return null;let n=iG(t.reverification);if(!n)return null;let{level:r,afterMinutes:s}=n(),[a,o]=i,l=-1!==a?s>a:null,c=-1!==o?s>o:null;switch(r){case"first_factor":return l;case"second_factor":return -1!==o?c:l;case"multi_factor":return -1===o?l:l&&c}},iY=t=>e=>{if(!t.userId)return!1;let i=iH(e,t),n=i$(e,t);return[i,n].some(t=>null===t)?[i,n].some(t=>!0===t):[i,n].every(t=>!0===t)};function iZ(){return F()&&"function"==typeof window.PublicKeyCredential}async function iQ(){try{return iZ()&&await window.PublicKeyCredential.isConditionalMediationAvailable()}catch{return!1}}async function iX(){try{return"undefined"!=typeof window&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch{return!1}}let i0={TokenUpdate:"token:update",UserSignOut:"user:signOut"},i1=(()=>{let t=new Map;return{on:(e,i)=>{var n;t.get(e)||t.set(e,[]),null===(n=t.get(e))||void 0===n||n.push(i)},dispatch:(e,i)=>{(t.get(e)||[]).forEach(t=>"function"==typeof t&&t(i))},off:(e,i)=>{let n=t.get(e)||[];n.length&&(i&&t.set(e,n.filter(t=>t!==i)),t.set(e,[]))}}})();class i3 extends e1{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.session=new i4(t.session),this.level=t.level,this.supportedFirstFactors=tU(t.supported_first_factors),this.supportedSecondFactors=tU(t.supported_second_factors),this.firstFactorVerification=new ib(t.first_factor_verification),this.secondFactorVerification=new ib(t.second_factor_verification)),this}constructor(t=null){super(),p(this,"status",void 0),p(this,"level",void 0),p(this,"session",void 0),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",[]),p(this,"firstFactorVerification",new ib(null)),p(this,"secondFactorVerification",new ib(null)),this.fromJSON(t)}}var i2=new WeakMap,i5=new WeakSet;class i4 extends e1{static isSessionResource(t){return!!t&&t instanceof i4}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.expireAt=e2(t.expire_at),this.abandonAt=e2(t.abandon_at),this.factorVerificationAge=t.factor_verification_age,this.lastActiveAt=e2(t.last_active_at||void 0),this.lastActiveOrganizationId=t.last_active_organization_id,this.actor=t.actor,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at),this.user=new nm(t.user),this.tasks=t.tasks,t.public_user_data&&(this.publicUserData=new i7(t.public_user_data)),this.lastActiveToken=t.last_active_token?new nd(t.last_active_token):null),this}__internal_toSnapshot(){var t,e;return{object:"session",id:this.id,status:this.status,expire_at:this.expireAt.getTime(),abandon_at:this.abandonAt.getTime(),factor_verification_age:this.factorVerificationAge,last_active_at:this.lastActiveAt.getTime(),last_active_organization_id:this.lastActiveOrganizationId,actor:this.actor,tasks:this.tasks,user:(null===(t=this.user)||void 0===t?void 0:t.__internal_toSnapshot())||null,public_user_data:this.publicUserData.__internal_toSnapshot(),last_active_token:(null===(e=this.lastActiveToken)||void 0===e?void 0:e.__internal_toSnapshot())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async _getToken(t){if(!this.user)return null;let{leewayInSeconds:e,template:i,skipCache:n=!1}=t||{},r=void 0===(null==t?void 0:t.organizationId)?this.lastActiveOrganizationId:null==t?void 0:t.organizationId;if(!i&&Number(e)>=60)throw Error("Leeway can not exceed the token lifespan (60 seconds)");let s=d(this,i5,i6).call(this,i,r),a=n?void 0:e6.get({tokenId:s},e),o=!i&&r===this.lastActiveOrganizationId;if(a){let t=await a.tokenResolver;return o&&i1.dispatch(i0.TokenUpdate,{token:t}),t.getRawString()||null}let l=i?"".concat(this.path(),"/tokens/").concat(i):"".concat(this.path(),"/tokens"),c=i?{}:{organizationId:r},h=nd.create(l,c);return e6.set({tokenId:s,tokenResolver:h}),h.then(t=>(o&&i1.dispatch(i0.TokenUpdate,{token:t}),t.getRawString()||null))}constructor(t){super(),u(this,i5),p(this,"pathRoot","/client/sessions"),p(this,"id",void 0),p(this,"status",void 0),p(this,"lastActiveAt",void 0),p(this,"lastActiveToken",void 0),p(this,"lastActiveOrganizationId",void 0),p(this,"actor",void 0),p(this,"user",void 0),p(this,"publicUserData",void 0),p(this,"factorVerificationAge",null),p(this,"tasks",null),p(this,"expireAt",void 0),p(this,"abandonAt",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"end",()=>(e6.clear(),this._basePost({action:"end"}))),p(this,"remove",()=>(e6.clear(),this._basePost({action:"remove"}))),p(this,"touch",()=>this._basePost({action:"touch",body:{active_organization_id:this.lastActiveOrganizationId}})),p(this,"clearCache",()=>e6.clear()),p(this,"getToken",async t=>eJ(()=>this._getToken(t),{shouldRetry:(t,e)=>!Y(t)&&e<4})),p(this,"checkAuthorization",t=>{var e,i;let n=((null===(e=this.user)||void 0===e?void 0:e.organizationMemberships)||[]).find(t=>t.organization.id===this.lastActiveOrganizationId);return iY({userId:null===(i=this.user)||void 0===i?void 0:i.id,factorVerificationAge:this.factorVerificationAge,orgId:null==n?void 0:n.id,orgRole:null==n?void 0:n.role,orgPermissions:null==n?void 0:n.permissions})(t)}),l(this,i2,{writable:!0,value:t=>{t&&e6.set({tokenId:d(this,i5,i6).call(this),tokenResolver:Promise.resolve(t)})}}),p(this,"startVerification",async t=>{var e;let{level:i}=t;return new i3(null===(e=await e1._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify"),body:{level:i}}))||void 0===e?void 0:e.response)}),p(this,"prepareFirstFactorVerification",async t=>{var e;let i;switch(t.strategy){case"email_code":i={emailAddressId:t.emailAddressId};break;case"phone_code":i={phoneNumberId:t.phoneNumberId,default:t.default};break;case"passkey":i={};break;default:eM("Session.prepareFirstFactorVerification",t.strategy)}return new i3(null===(e=await e1._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"attemptFirstFactorVerification",async t=>{var e;let i;return i="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(ig(t.publicKeyCredential))}:{...t},new i3(null===(e=await e1._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"verifyWithPasskey",async()=>{let{nonce:t=null}=(await this.prepareFirstFactorVerification({strategy:"passkey"})).firstFactorVerification,e=i4.clerk.__internal_isWebAuthnSupported||iZ,i=i4.clerk.__internal_getPublicCredentials||iu;if(!e())throw new ts("Passkeys are not supported",{code:"passkey_not_supported"});let n=t?im(JSON.parse(t)):null;n||eN("get");let{publicKeyCredential:r,error:s}=await i({publicKeyOptions:n,conditionalUI:!1});if(!r)throw s;return this.attemptFirstFactorVerification({strategy:"passkey",publicKeyCredential:r})}),p(this,"prepareSecondFactorVerification",async t=>{var e;return new i3(null===(e=await e1._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_second_factor"),body:t}))||void 0===e?void 0:e.response)}),p(this,"attemptSecondFactorVerification",async t=>{var e;return new i3(null===(e=await e1._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_second_factor"),body:t}))||void 0===e?void 0:e.response)}),this.fromJSON(t),a(this,i2).call(this,this.lastActiveToken)}}function i6(t,e){let i=void 0===e?this.lastActiveOrganizationId:e;return[this.id,t,i,this.updatedAt.getTime()].filter(Boolean).join("-")}class i9 extends e1{static async create(){return e1._fetch({path:"/me/passkeys",method:"POST"}).then(t=>new i9(null==t?void 0:t.response))}static async attemptVerification(t,e){let i=function(t){let e=t.response;return{...iv(t),response:{clientDataJSON:i_(e.clientDataJSON),attestationObject:i_(e.attestationObject),transports:e.getTransports()}}}(e);return e1._fetch({path:"/me/passkeys/".concat(t,"/attempt_verification"),method:"POST",body:{strategy:"passkey",publicKeyCredential:JSON.stringify(i)}}).then(t=>new i9(null==t?void 0:t.response))}static async registerPasskey(){var t;let e=i9.clerk.__internal_isWebAuthnSupported||iZ,i=i9.clerk.__internal_createPublicCredentials||ih,n=i9.clerk.__internal_isWebAuthnPlatformAuthenticatorSupported||iX;if(!e())throw new ts("Passkeys are not supported on this device.",{code:"passkey_not_supported"});let r=await this.create(),{verification:s}=r,a=null==s?void 0:s.publicKey;if(a||eN("create"),(null===(t=a.authenticatorSelection)||void 0===t?void 0:t.authenticatorAttachment)==="platform"&&!await n())throw new ts("Registration requires a platform authenticator but the device does not support it.",{code:"passkey_pa_not_supported"});let{publicKeyCredential:o,error:l}=await i(a);if(!o)throw l;return this.attemptVerification(r.id,o)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.lastUsedAt=t.last_used_at?e2(t.last_used_at):null,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at),t.verification&&(this.verification=new iy(t.verification))),this}__internal_toSnapshot(){var t,e;return{object:"passkey",id:this.id,name:this.name,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,last_used_at:(null===(e=this.lastUsedAt)||void 0===e?void 0:e.getTime())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"pathRoot","/me/passkeys"),p(this,"verification",null),p(this,"name",null),p(this,"lastUsedAt",null),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"update",t=>this._basePatch({body:t})),p(this,"delete",async()=>{var t;return new e7(null===(t=await e1._fetch({path:this.path(),method:"DELETE"}))||void 0===t?void 0:t.response)}),this.fromJSON(t)}}class i7{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.identifier=t.identifier,this.userId=t.user_id),this}__internal_toSnapshot(){return{object:"public_user_data",id:this.userId||"",first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,has_image:this.hasImage,identifier:this.identifier,user_id:this.userId}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"identifier",void 0),p(this,"userId",void 0),this.fromJSON(t)}}let i8=t=>({id:t.id,deviceType:t.device_type,browserName:t.browser_name,browserVersion:t.browser_version,country:t.country,city:t.city,isMobile:t.is_mobile,ipAddress:t.ip_address});class nt extends e1{static retrieve(){var t;let e=null===(t=e1.clerk.session)||void 0===t?void 0:t.id;return this.clerk.getFapiClient().request({method:"GET",path:"/me/sessions/active",sessionId:e}).then(t=>t.payload.map(t=>new nt(t,"/me/sessions"))).catch(()=>[])}revoke(){return this._basePost({action:"revoke",body:{}})}fromJSON(t){var e;return t&&(this.id=t.id,this.status=t.status,this.expireAt=e2(t.expire_at),this.abandonAt=e2(t.abandon_at),this.lastActiveAt=e2(t.last_active_at||void 0),this.latestActivity=i8(null!==(e=t.latest_activity)&&void 0!==e?e:{}),this.actor=t.actor),this}constructor(t,e){super(),p(this,"pathRoot",""),p(this,"id",void 0),p(this,"status",void 0),p(this,"abandonAt",void 0),p(this,"expireAt",void 0),p(this,"lastActiveAt",void 0),p(this,"latestActivity",void 0),p(this,"actor",void 0),this.pathRoot=e,this.fromJSON(t)}}let ne=()=>Promise.all([i.e("708").then(i.bind(i,384)),i.e("325").then(i.bind(i,706))]).then(t=>{let[e,i]=t,{zxcvbnOptions:n,zxcvbn:r}=e,{dictionary:s,adjacencyGraphs:a}=i;return n.setOptions({dictionary:{...s},graphs:a}),r}),ni=t=>{let e;if(t.allowed_special_characters){let i=t.allowed_special_characters.replace("[","\\[");i=i.replace("]","\\]"),e=new RegExp("[".concat(i,"]"))}else e=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/;return(t,i)=>{let{minLength:n,maxLength:r}=i;return{max_length:t.length<r,min_length:t.length>=n,require_numbers:/\d/.test(t),require_lowercase:/[a-z]/.test(t),require_uppercase:/[A-Z]/.test(t),require_special_char:e.test(t)}}},nn=(t,e)=>{let{max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o}=e,l=ni(e)(t,{maxLength:e.max_length,minLength:e.min_length}),c={max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o},h=new Map;for(let t in c)c[t]&&(l[t]||h.set(t,!0));return Object.freeze(Object.fromEntries(h))},nr=t=>e=>nn(e,t),ns=t=>{let{min_zxcvbn_strength:e,onResult:i}=t;return t=>n=>{let r=t(n);return(null==i||i(r),r.score>=e&&r.score<3)?{state:"pass",keys:["unstable__errors.zxcvbn.couldBeStronger"],result:r}:r.score>=e?{state:"excellent",result:r}:{state:"fail",keys:["unstable__errors.zxcvbn.notEnough",...r.feedback.suggestions.map(t=>"unstable__errors.zxcvbn.suggestions.".concat(t))],result:r}}},na=(t,e)=>{let{onValidation:i=tR,onValidationComplexity:n=tR}=e||{},{show_zxcvbn:r,validatePassword:s}=t,a=nr(t),o=ns(t),l={};return(t,e)=>{let{onValidation:c=i,onValidationComplexity:h=n}=e||{};if(!s)return;let d=a(t);h(0===Object.keys(d).length),l={...l,complexity:d},r&&ne().then(e=>{let i=o(e)(t);c({...l={...l,strength:i},strength:i})}),(!l.complexity||0!==Object.keys(l.complexity).length||!r)&&c(l)}};class no extends e1{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.supportedIdentifiers=t.supported_identifiers,this.identifier=t.identifier,this.supportedFirstFactors=tU(t.supported_first_factors),this.supportedSecondFactors=tU(t.supported_second_factors),this.firstFactorVerification=new ib(t.first_factor_verification),this.secondFactorVerification=new ib(t.second_factor_verification),this.createdSessionId=t.created_session_id,this.userData=new nl(t.user_data)),this}__internal_toSnapshot(){return{object:"sign_in",id:this.id||"",status:this.status||null,supported_identifiers:this.supportedIdentifiers,supported_first_factors:tk(this.supportedFirstFactors),supported_second_factors:tk(this.supportedSecondFactors),first_factor_verification:this.firstFactorVerification.__internal_toSnapshot(),second_factor_verification:this.secondFactorVerification.__internal_toSnapshot(),identifier:this.identifier,created_session_id:this.createdSessionId,user_data:this.userData.__internal_toSnapshot()}}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ins"),p(this,"id",void 0),p(this,"status",null),p(this,"supportedIdentifiers",[]),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",null),p(this,"firstFactorVerification",new ib(null)),p(this,"secondFactorVerification",new ib(null)),p(this,"identifier",null),p(this,"createdSessionId",null),p(this,"userData",new nl(null)),p(this,"create",t=>this._basePost({path:this.pathRoot,body:t})),p(this,"resetPassword",t=>this._basePost({body:t,action:"reset_password"})),p(this,"prepareFirstFactor",t=>{let e;switch(t.strategy){case"passkey":e={};break;case"email_link":e={emailAddressId:t.emailAddressId,redirectUrl:t.redirectUrl};break;case"email_code":case"reset_password_email_code":e={emailAddressId:t.emailAddressId};break;case"phone_code":e={phoneNumberId:t.phoneNumberId,default:t.default};break;case"web3_metamask_signature":case"web3_coinbase_wallet_signature":case"web3_okx_wallet_signature":e={web3WalletId:t.web3WalletId};break;case"reset_password_phone_code":e={phoneNumberId:t.phoneNumberId};break;case"saml":case"enterprise_sso":e={redirectUrl:t.redirectUrl,actionCompleteRedirectUrl:t.actionCompleteRedirectUrl};break;default:eM("SignIn.prepareFirstFactor",t.strategy)}return this._basePost({body:{...e,strategy:t.strategy},action:"prepare_first_factor"})}),p(this,"attemptFirstFactor",t=>{let e;return e="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(ig(t.publicKeyCredential))}:{...t},this._basePost({body:{...e,strategy:t.strategy},action:"attempt_first_factor"})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=is();return{startEmailLinkFlow:async i=>{let{emailAddressId:n,redirectUrl:r}=i;return this.id||ex("SignIn"),await this.prepareFirstFactor({strategy:"email_link",emailAddressId:n,redirectUrl:r}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.firstFactorVerification.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"prepareSecondFactor",t=>this._basePost({body:t,action:"prepare_second_factor"})),p(this,"attemptSecondFactor",t=>this._basePost({body:t,action:"attempt_second_factor"})),p(this,"authenticateWithRedirect",async t=>{let{strategy:e,redirectUrl:i,redirectUrlComplete:n,identifier:r}=t||{},{firstFactorVerification:s}=("saml"===e||"enterprise_sso"===e)&&this.id?await this.prepareFirstFactor({strategy:e,redirectUrl:no.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}):await this.create({strategy:e,identifier:r,redirectUrl:no.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}),{status:a,externalVerificationRedirectURL:o}=s;"unverified"===a&&o?tF(o):eW(a,no.fapiClient.buildEmailAddress("support"))}),p(this,"authenticateWithWeb3",async t=>{var e;let i;let{identifier:n,generateSignature:r,strategy:s="web3_metamask_signature"}=t||{},a=s.replace("web3_","").replace("_signature","");"function"!=typeof r&&ez("generateSignature"),await this.create({identifier:n});let o=null===(e=this.supportedFirstFactors)||void 0===e?void 0:e.find(t=>t.strategy===s);o||eR("SignIn"),await this.prepareFirstFactor(o);let{message:l}=this.firstFactorVerification;l||eR("SignIn");try{i=await r({identifier:n,nonce:l,provider:a})}catch(t){if("coinbase_wallet"===a&&4001===t.code)i=await r({identifier:n,nonce:l,provider:a});else throw t}return this.attemptFirstFactor({signature:i,strategy:s})}),p(this,"authenticateWithMetamask",async()=>{let t=await eb();return this.authenticateWithWeb3({identifier:t,generateSignature:ek,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async()=>{let t=await ey();return this.authenticateWithWeb3({identifier:t,generateSignature:eU,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async()=>{let t=await eS();return this.authenticateWithWeb3({identifier:t,generateSignature:eA,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithPasskey",async t=>{let{flow:e}=t||{},i=no.clerk.__internal_isWebAuthnSupported||iZ,n=no.clerk.__internal_getPublicCredentials||iu,r=no.clerk.__internal_isWebAuthnAutofillSupported||iQ;if(!i())throw new ts("Passkeys are not supported",{code:"passkey_not_supported"});if("autofill"===e||"discoverable"===e)await this.create({strategy:"passkey"});else{let t=this.supportedFirstFactors.find(t=>"passkey"===t.strategy);t||function(){throw Error("".concat(eC," You need to start a SignIn flow by calling SignIn.create({ strategy: 'passkey' }) first"))}(),await this.prepareFirstFactor(t)}let{nonce:s}=this.firstFactorVerification,a=s?im(JSON.parse(s)):null;a||eN("get");let o=!1;"autofill"===e&&(o=await r());let{publicKeyCredential:l,error:c}=await n({publicKeyOptions:a,conditionalUI:o});if(!l)throw c;return this.attemptFirstFactor({publicKeyCredential:l,strategy:"passkey"})}),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=no.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return na({...null===(n=no.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class nl{fromJSON(t){if(t){var e,i;this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=null!==(e=t.image_url)&&void 0!==e?e:void 0,this.hasImage=null!==(i=t.has_image)&&void 0!==i?i:void 0}return this}__internal_toSnapshot(){return{first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl||null,has_image:this.hasImage||null}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),this.fromJSON(t)}}function nc(t){let{unsafeMetadata:e}={...t},i=e?"object"==typeof e?JSON.stringify(e):e:"";return{...t,...e?{unsafeMetadata:i}:{}}}class nh extends e1{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.requiredFields=t.required_fields,this.optionalFields=t.optional_fields,this.missingFields=t.missing_fields,this.unverifiedFields=t.unverified_fields,this.verifications=new iS(t.verifications),this.username=t.username,this.firstName=t.first_name,this.lastName=t.last_name,this.emailAddress=t.email_address,this.phoneNumber=t.phone_number,this.hasPassword=t.has_password,this.unsafeMetadata=t.unsafe_metadata,this.createdSessionId=t.created_session_id,this.createdUserId=t.created_user_id,this.abandonAt=t.abandon_at,this.web3wallet=t.web3_wallet,this.legalAcceptedAt=t.legal_accepted_at),this}__internal_toSnapshot(){var t;return{object:"sign_up",id:this.id||"",status:this.status||null,required_fields:this.requiredFields,optional_fields:this.optionalFields,missing_fields:this.missingFields,unverified_fields:this.unverifiedFields,verifications:this.verifications.__internal_toSnapshot(),username:this.username,first_name:this.firstName,last_name:this.lastName,email_address:this.emailAddress,phone_number:this.phoneNumber,has_password:this.hasPassword,unsafe_metadata:this.unsafeMetadata,created_session_id:this.createdSessionId,created_user_id:this.createdUserId,abandon_at:this.abandonAt,web3_wallet:this.web3wallet,legal_accepted_at:this.legalAcceptedAt,external_account:this.externalAccount,external_account_strategy:null===(t=this.externalAccount)||void 0===t?void 0:t.strategy}}clientBypass(){var t;return null===(t=nh.clerk.client)||void 0===t?void 0:t.captchaBypass}shouldBypassCaptchaForAttempt(t){if(!t.strategy)return!1;let e=nh.clerk.__unstable__environment.displayConfig.captchaOauthBypass;return!!(e.some(e=>e===t.strategy)||t.transfer&&e.some(t=>t===nh.clerk.client.signIn.firstFactorVerification.strategy))}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ups"),p(this,"id",void 0),p(this,"status",null),p(this,"requiredFields",[]),p(this,"optionalFields",[]),p(this,"missingFields",[]),p(this,"unverifiedFields",[]),p(this,"verifications",new iS(null)),p(this,"username",null),p(this,"firstName",null),p(this,"lastName",null),p(this,"emailAddress",null),p(this,"phoneNumber",null),p(this,"web3wallet",null),p(this,"externalAccount",void 0),p(this,"hasPassword",!1),p(this,"unsafeMetadata",{}),p(this,"createdSessionId",null),p(this,"createdUserId",null),p(this,"abandonAt",null),p(this,"legalAcceptedAt",null),p(this,"create",async t=>{let e=t;if(!this.clientBypass()&&!this.shouldBypassCaptchaForAttempt(e)){let t=new eX(nh.clerk),i=await t.managedOrInvisible({action:"signup"});if(!i)throw new te("",{code:"captcha_unavailable"});e={...e,...i}}if(e.transfer&&this.shouldBypassCaptchaForAttempt(e)){var i;e.strategy=null===(i=nh.clerk.client)||void 0===i?void 0:i.signIn.firstFactorVerification.strategy}return this._basePost({path:this.pathRoot,body:nc(e)})}),p(this,"prepareVerification",t=>this._basePost({body:t,action:"prepare_verification"})),p(this,"attemptVerification",t=>this._basePost({body:t,action:"attempt_verification"})),p(this,"prepareEmailAddressVerification",t=>this.prepareVerification(t||{strategy:"email_code"})),p(this,"attemptEmailAddressVerification",t=>this.attemptVerification({...t,strategy:"email_code"})),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=is();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||ex("SignUp"),await this.prepareEmailAddressVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.verifications.emailAddress.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"preparePhoneNumberVerification",t=>this.prepareVerification(t||{strategy:"phone_code"})),p(this,"attemptPhoneNumberVerification",t=>this.attemptVerification({...t,strategy:"phone_code"})),p(this,"prepareWeb3WalletVerification",t=>this.prepareVerification({strategy:"web3_metamask_signature",...t})),p(this,"attemptWeb3WalletVerification",async t=>{let{signature:e,strategy:i="web3_metamask_signature"}=t;return this.attemptVerification({signature:e,strategy:i})}),p(this,"authenticateWithWeb3",async t=>{let e;let{generateSignature:i,identifier:n,unsafeMetadata:r,strategy:s="web3_metamask_signature",legalAccepted:a}=t||{},o=s.replace("web3_","").replace("_signature","");"function"!=typeof i&&ez("generateSignature");let l=n||this.web3wallet;await this.create({web3Wallet:l,unsafeMetadata:r,legalAccepted:a}),await this.prepareWeb3WalletVerification({strategy:s});let{message:c}=this.verifications.web3Wallet;c||eR("SignUp");try{e=await i({identifier:n,nonce:c,provider:o})}catch(t){if("coinbase_wallet"===o&&4001===t.code)e=await i({identifier:n,nonce:c,provider:o});else throw t}return this.attemptWeb3WalletVerification({signature:e,strategy:s})}),p(this,"authenticateWithMetamask",async t=>{let e=await eb();return this.authenticateWithWeb3({identifier:e,generateSignature:ek,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_metamask_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithCoinbaseWallet",async t=>{let e=await ey();return this.authenticateWithWeb3({identifier:e,generateSignature:eU,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_coinbase_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithOKXWallet",async t=>{let e=await eS();return this.authenticateWithWeb3({identifier:e,generateSignature:eA,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_okx_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithRedirect",async t=>{let{redirectUrl:e,redirectUrlComplete:i,strategy:n,continueSignUp:r=!1,unsafeMetadata:s,emailAddress:a,legalAccepted:o}=t,l=()=>{let t={strategy:n,redirectUrl:nh.clerk.buildUrlWithAuth(e),actionCompleteRedirectUrl:i,unsafeMetadata:s,emailAddress:a,legalAccepted:o};return r&&this.id?this.update(t):this.create(t)},{verifications:c}=await l().catch(async t=>{if(Z(t)&&["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(t.errors[0].code))return await nh.clerk.__unstable__environment.reload(),l();throw t}),{externalAccount:h}=c,{status:d,externalVerificationRedirectURL:u}=h;"unverified"===d&&u?tF(u):eW(d,nh.fapiClient.buildEmailAddress("support"))}),p(this,"update",t=>this._basePatch({body:nc(t)})),p(this,"upsert",t=>this.id?this.update(t):this.create(t)),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=nh.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return na({...null===(n=nh.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class nd extends e1{static async create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new nd(await e1._fetch({path:t,method:"POST",body:e}),t)}fromJSON(t){return t&&(this.jwt=es(t.jwt)),this}__internal_toSnapshot(){return{object:"token",id:this.id||"",jwt:this.getRawString()}}constructor(t,e){super(),p(this,"pathRoot","tokens"),p(this,"jwt",void 0),p(this,"getRawString",()=>{var t;return(null===(t=this.jwt)||void 0===t?void 0:t.claims.__raw)||""}),e&&(this.pathRoot=e),(null==t?void 0:t.jwt)&&(this.jwt=es(t.jwt))}}class nu extends e1{fromJSON(t){return t&&(this.id=t.id,this.secret=t.secret,this.uri=t.uri,this.verified=t.verified,this.backupCodes=t.backup_codes,this.updatedAt=e2(t.updated_at),this.createdAt=e2(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"secret",void 0),p(this,"uri",void 0),p(this,"verified",!1),p(this,"backupCodes",void 0),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}let np=t=>{let{firstName:e,lastName:i,name:n}=t;return n||[e,i].join(" ").trim()||""};class nf extends e1{fromJSON(t){return t&&(this.id=t.id,this.codes=t.codes,this.updatedAt=e2(t.updated_at),this.createdAt=e2(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",void 0),p(this,"codes",[]),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}class nm extends e1{static isUserResource(t){return!!t&&t instanceof nm}path(){return this.pathRoot}get verifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get unverifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)!="verified"})}get verifiedWeb3Wallets(){return this.web3Wallets.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get hasVerifiedEmailAddress(){return this.emailAddresses.filter(t=>"verified"===t.verification.status).length>0}get hasVerifiedPhoneNumber(){return this.phoneNumbers.filter(t=>"verified"===t.verification.status).length>0}fromJSON(t){return t&&(this.id=t.id,this.externalId=t.external_id,this.firstName=t.first_name,this.lastName=t.last_name,(this.firstName||this.lastName)&&(this.fullName=np({firstName:this.firstName,lastName:this.lastName})),this.imageUrl=t.image_url,this.hasImage=t.has_image,this.username=t.username,this.passwordEnabled=t.password_enabled,this.emailAddresses=(t.email_addresses||[]).map(t=>new ia(t,this.path()+"/email_addresses")),this.primaryEmailAddressId=t.primary_email_address_id,this.primaryEmailAddress=this.emailAddresses.find(t=>{let{id:e}=t;return e===this.primaryEmailAddressId})||null,this.phoneNumbers=(t.phone_numbers||[]).map(t=>new iP(t,this.path()+"/phone_numbers")),this.primaryPhoneNumberId=t.primary_phone_number_id,this.primaryPhoneNumber=this.phoneNumbers.find(t=>{let{id:e}=t;return e===this.primaryPhoneNumberId})||null,this.web3Wallets=(t.web3_wallets||[]).map(t=>new ng(t,this.path()+"/web3_wallets")),this.primaryWeb3WalletId=t.primary_web3_wallet_id,this.primaryWeb3Wallet=this.web3Wallets.find(t=>{let{id:e}=t;return e===this.primaryWeb3WalletId})||null,this.externalAccounts=(t.external_accounts||[]).map(t=>new iU(t,this.path()+"/external_accounts")),this.passkeys=(t.passkeys||[]).map(t=>new i9(t)),this.organizationMemberships=(t.organization_memberships||[]).map(t=>new iN(t)),this.samlAccounts=(t.saml_accounts||[]).map(t=>new iL(t,this.path()+"/saml_accounts")),this.enterpriseAccounts=(t.enterprise_accounts||[]).map(t=>new iA(t,this.path()+"/enterprise_accounts")),this.publicMetadata=t.public_metadata,this.unsafeMetadata=t.unsafe_metadata,this.totpEnabled=t.totp_enabled,this.backupCodeEnabled=t.backup_code_enabled,this.twoFactorEnabled=t.two_factor_enabled,this.createOrganizationEnabled=t.create_organization_enabled,this.createOrganizationsLimit=t.create_organizations_limit,this.deleteSelfEnabled=t.delete_self_enabled,t.last_sign_in_at&&(this.lastSignInAt=e2(t.last_sign_in_at)),t.legal_accepted_at&&(this.legalAcceptedAt=e2(t.legal_accepted_at)),this.updatedAt=e2(t.updated_at||void 0),this.createdAt=e2(t.created_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"user",id:this.id,external_id:this.externalId,first_name:this.firstName,last_name:this.lastName,username:this.username,public_metadata:this.publicMetadata,unsafe_metadata:this.unsafeMetadata,image_url:this.imageUrl,has_image:this.hasImage,email_addresses:this.emailAddresses.map(t=>t.__internal_toSnapshot()),phone_numbers:this.phoneNumbers.map(t=>t.__internal_toSnapshot()),web3_wallets:this.web3Wallets.map(t=>t.__internal_toSnapshot()),external_accounts:this.externalAccounts.map(t=>t.__internal_toSnapshot()),passkeys:this.passkeys.map(t=>t.__internal_toSnapshot()),organization_memberships:this.organizationMemberships.map(t=>t.__internal_toSnapshot()),saml_accounts:this.samlAccounts.map(t=>t.__internal_toSnapshot()),enterprise_accounts:this.enterpriseAccounts.map(t=>t.__internal_toSnapshot()),totp_enabled:this.totpEnabled,backup_code_enabled:this.backupCodeEnabled,two_factor_enabled:this.twoFactorEnabled,create_organization_enabled:this.createOrganizationEnabled,create_organizations_limit:this.createOrganizationsLimit,delete_self_enabled:this.deleteSelfEnabled,primary_email_address_id:this.primaryEmailAddressId,primary_phone_number_id:this.primaryPhoneNumberId,primary_web3_wallet_id:this.primaryWeb3WalletId,password_enabled:this.passwordEnabled,profile_image_id:this.imageUrl,last_sign_in_at:(null===(t=this.lastSignInAt)||void 0===t?void 0:t.getTime())||null,legal_accepted_at:(null===(e=this.legalAcceptedAt)||void 0===e?void 0:e.getTime())||null,updated_at:(null===(i=this.updatedAt)||void 0===i?void 0:i.getTime())||null,created_at:(null===(n=this.createdAt)||void 0===n?void 0:n.getTime())||null}}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"externalId",null),p(this,"username",null),p(this,"emailAddresses",[]),p(this,"phoneNumbers",[]),p(this,"web3Wallets",[]),p(this,"externalAccounts",[]),p(this,"enterpriseAccounts",[]),p(this,"passkeys",[]),p(this,"samlAccounts",[]),p(this,"organizationMemberships",[]),p(this,"passwordEnabled",!1),p(this,"firstName",null),p(this,"lastName",null),p(this,"fullName",null),p(this,"primaryEmailAddressId",null),p(this,"primaryEmailAddress",null),p(this,"primaryPhoneNumberId",null),p(this,"primaryPhoneNumber",null),p(this,"primaryWeb3WalletId",null),p(this,"primaryWeb3Wallet",null),p(this,"imageUrl",""),p(this,"hasImage",!1),p(this,"twoFactorEnabled",!1),p(this,"totpEnabled",!1),p(this,"backupCodeEnabled",!1),p(this,"publicMetadata",{}),p(this,"unsafeMetadata",{}),p(this,"createOrganizationEnabled",!1),p(this,"createOrganizationsLimit",null),p(this,"deleteSelfEnabled",!1),p(this,"lastSignInAt",null),p(this,"legalAcceptedAt",null),p(this,"updatedAt",null),p(this,"createdAt",null),p(this,"cachedSessionsWithActivities",null),p(this,"isPrimaryIdentification",t=>{switch(t.constructor){case ia:return this.primaryEmailAddressId===t.id;case iP:return this.primaryPhoneNumberId===t.id;case ng:return this.primaryWeb3WalletId===t.id;default:return!1}}),p(this,"createEmailAddress",t=>{let{email:e}=t||{};return new ia({email_address:e},this.path()+"/email_addresses/").create()}),p(this,"createPasskey",()=>i9.registerPasskey()),p(this,"createPhoneNumber",t=>{let{phoneNumber:e}=t||{};return new iP({phone_number:e},this.path()+"/phone_numbers/").create()}),p(this,"createWeb3Wallet",t=>{let{web3Wallet:e}=t||{};return new ng({web3_wallet:e},this.path()+"/web3_wallets/").create()}),p(this,"createExternalAccount",async t=>{var e;let{strategy:i,redirectUrl:n,additionalScopes:r}=t||{};return new iU(null===(e=await e1._fetch({path:"/me/external_accounts",method:"POST",body:{strategy:i,redirect_url:n,additional_scope:r}}))||void 0===e?void 0:e.response,this.path()+"/external_accounts")}),p(this,"createTOTP",async()=>{var t;return new nu(null===(t=await e1._fetch({path:"/me/totp",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"verifyTOTP",async t=>{var e;let{code:i}=t;return new nu(null===(e=await e1._fetch({path:"/me/totp/attempt_verification",method:"POST",body:{code:i}}))||void 0===e?void 0:e.response)}),p(this,"disableTOTP",async()=>{var t;return new e7(null===(t=await e1._fetch({path:"/me/totp",method:"DELETE"}))||void 0===t?void 0:t.response)}),p(this,"createBackupCode",async()=>{var t;return new nf(null===(t=await e1._fetch({path:this.path()+"/backup_codes/",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"update",t=>this._basePatch({body:nc(t)})),p(this,"updatePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/change_password")})),p(this,"removePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/remove_password")})),p(this,"delete",()=>this._baseDelete({path:"/me"}).then(t=>(i1.dispatch(i0.UserSignOut,null),t))),p(this,"getSessions",async()=>{if(this.cachedSessionsWithActivities)return this.cachedSessionsWithActivities;let t=await nt.retrieve();return this.cachedSessionsWithActivities=t,t}),p(this,"setProfileImage",t=>{let{file:e}=t||{};return null===e?iC.delete("".concat(this.path(),"/profile_image")):iC.create("".concat(this.path(),"/profile_image"),{file:e})}),p(this,"getOrganizationInvitations",t=>nv.retrieve(t)),p(this,"getOrganizationSuggestions",t=>iF.retrieve(t)),p(this,"getOrganizationMemberships",t=>iN.retrieve(t)),p(this,"leaveOrganization",async t=>{var e;return new e7(null===(e=await e1._fetch({path:"".concat(this.path(),"/organization_memberships/").concat(t),method:"DELETE"}))||void 0===e?void 0:e.response)}),this.fromJSON(t)}}class nv extends e1{static async retrieve(t){return await e1._fetch({path:"/me/organization_invitations",method:"GET",search:iE(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new nv(t))}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=e2(t.created_at),this.updatedAt=e2(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"publicOrganizationData",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_invitations/".concat(this.id,"/accept")})),this.fromJSON(t)}}class ng extends e1{create(){return this._basePost({body:{web3_wallet:this.web3Wallet}})}destroy(){return this._baseDelete()}toString(){return this.web3Wallet}fromJSON(t){return t&&(this.id=t.id,this.web3Wallet=t.web3_wallet,this.verification=new ib(t.verification)),this}__internal_toSnapshot(){return{object:"web3_wallet",id:this.id,web3_wallet:this.web3Wallet,verification:this.verification.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"web3Wallet",""),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{signature:e}=t;return this._basePost({action:"attempt_verification",body:{signature:e}})}),this.pathRoot=e,this.fromJSON(t)}}class n_ extends e1{fromJSON(t){return t&&(this.id=t.id,this.updatedAt=e2(t.updated_at),this.createdAt=e2(t.created_at)),this}static async join(t){var e;return new n_(null===(e=await e1._fetch({path:"/waitlist",method:"POST",body:t}))||void 0===e?void 0:e.response)}constructor(t){super(),p(this,"pathRoot","/waitlist"),p(this,"id",""),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}function nw(t,e){var i,n,r,s;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(i=e,n=t,i.organizationMemberships.length!==n.organizationMemberships.length||(null===(r=i.organizationMemberships[0])||void 0===r?void 0:r.updatedAt)!==(null===(s=n.organizationMemberships[0])||void 0===s?void 0:s.updatedAt))}function nb(t,e){return!function(t,e){if(!t&&e||t&&!e)return!0;if(!t&&t===e)return!1;if(!t||!e)return!0;try{if(e9.isClientResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||t.sessions.length!==e.sessions.length;if(i4.isSessionResource(t)){var i,n;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||function(t,e){let i=t.factorVerificationAge,n=e.factorVerificationAge;return null!==i&&null!==n?i[0]!==n[0]||i[1]!==n[1]:i!==n}(t,e)||function(t,e){var i,n,r,s,a,o;if(t.lastActiveOrganizationId!==e.lastActiveOrganizationId)return!0;let l=null===(n=t.user)||void 0===n?void 0:null===(i=n.organizationMemberships)||void 0===i?void 0:i.find(e=>e.organization.id===t.lastActiveOrganizationId),c=null===(s=e.user)||void 0===s?void 0:null===(r=s.organizationMemberships)||void 0===r?void 0:r.find(e=>e.organization.id===t.lastActiveOrganizationId);return(null==l?void 0:l.role)!==(null==c?void 0:c.role)||(null==l?void 0:null===(a=l.permissions)||void 0===a?void 0:a.length)!==(null==c?void 0:null===(o=c.permissions)||void 0===o?void 0:o.length)}(t,e)||(i=t,n=e,!!i.user!=!!n.user||!!i.user&&!!n.user&&nw(i.user,n.user))}if(nm.isUserResource(t))return nw(t,e)}catch{}return!0}(t,e)?t:e}var ny=t=>Object.entries(t).reduce((t,e)=>{let[i,n]=e;return null!=n&&(t[i]=n),t},{}),nS=(t,e)=>{let i={};for(let n in t)i[n]=e(t[n],n);return i},nk=(t,e)=>{let i={};for(let n in t)t[n]&&e(t[n])&&(i[n]=t[n]);return i},nU=new WeakSet,nA=new WeakSet,nI=new WeakSet,nO=new WeakSet,nC=new WeakSet,nP=new WeakSet,nE=new WeakSet,nT=new WeakMap;class nx{getAfterSignInUrl(){return d(this,nO,nW).call(this,"signIn")}getAfterSignUpUrl(){return d(this,nO,nW).call(this,"signUp")}getPreservedSearchParams(){return d(this,nU,nM).call(this,d(this,nA,nR).call(this))}toSearchParams(){return d(this,nU,nM).call(this,d(this,nI,nz).call(this))}constructor(t,e={},i={},n){u(this,nU),u(this,nA),u(this,nI),u(this,nO),u(this,nC),u(this,nP),u(this,nE),p(this,"options",void 0),p(this,"fromOptions",void 0),p(this,"fromProps",void 0),p(this,"fromSearchParams",void 0),p(this,"mode",void 0),l(this,nT,{writable:!0,value:t=>{var e;return nk(t,en(null===(e=this.options)||void 0===e?void 0:e.allowedRedirectOrigins,window.location.origin))}}),this.options=t,this.fromOptions=d(this,nC,nN).call(this,t||{}),this.fromProps=d(this,nC,nN).call(this,e||{}),this.fromSearchParams=d(this,nP,nF).call(this,i||{}),this.mode=n}}function nM(t){return new URLSearchParams(ny(Object.fromEntries(Object.entries(t).map(t=>{let[e,i]=t;return[ty(e),i]}))))}function nR(){return Object.fromEntries(Object.entries({...this.fromSearchParams}).filter(t=>{let[e]=t;return nx.preserved.includes(e)}))}function nz(){let t=this.fromSearchParams.signUpForceRedirectUrl||this.fromProps.signUpForceRedirectUrl||this.fromOptions.signUpForceRedirectUrl,e=this.fromSearchParams.signUpFallbackRedirectUrl||this.fromProps.signUpFallbackRedirectUrl||this.fromOptions.signUpFallbackRedirectUrl,i=this.fromSearchParams.signInForceRedirectUrl||this.fromProps.signInForceRedirectUrl||this.fromOptions.signInForceRedirectUrl,n=this.fromSearchParams.signInFallbackRedirectUrl||this.fromProps.signInFallbackRedirectUrl||this.fromOptions.signInFallbackRedirectUrl,r=this.fromSearchParams.afterSignInUrl||this.fromProps.afterSignInUrl||this.fromOptions.afterSignInUrl,s={signUpForceRedirectUrl:t,signUpFallbackRedirectUrl:e,signInFallbackRedirectUrl:n,signInForceRedirectUrl:i,afterSignInUrl:r,afterSignUpUrl:this.fromSearchParams.afterSignUpUrl||this.fromProps.afterSignUpUrl||this.fromOptions.afterSignUpUrl,redirectUrl:this.fromSearchParams.redirectUrl||this.fromProps.redirectUrl||this.fromOptions.redirectUrl};return t&&delete s.signUpFallbackRedirectUrl,i&&delete s.signInFallbackRedirectUrl,s}function nW(t){var e,i;let n,r;let s="".concat(t,"ForceRedirectUrl"),a="".concat(t,"FallbackRedirectUrl"),o="after".concat(t[0].toUpperCase()).concat(t.slice(1),"Url");(r=this.fromSearchParams[s]||this.fromProps[s]||this.fromOptions[s])&&(n=s),r||(r=this.fromSearchParams.redirectUrl),r&&(n="redirectUrl"),r||(r=this.fromSearchParams[a]||this.fromProps[a]||this.fromOptions[a]),r&&(n=a);let l=this.fromSearchParams[o]||this.fromProps[o]||this.fromProps.redirectUrl||this.fromOptions[o];return(e=n,(i=r)&&l&&t_.warnOnce('Clerk: The "'.concat(e,'" prop ("').concat(i,'") has priority over the legacy "').concat(o,'" (or "redirectUrl") ("').concat(l,'"), which will be completely ignored in this case. "').concat(o,'" (or "redirectUrl" prop) should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props')),r||(r=l),r||"modal"!==this.mode)?r||"/":window.location.href}function nN(t){eO(t);let e={};return nx.keys.forEach(i=>{e[i]=t[i]}),nS(a(this,nT).call(this,d(this,nE,nL).call(this,nk(e,Boolean))),t=>t.toString())}function nF(t){eO(t);let e={};return nx.keys.forEach(i=>{t instanceof URLSearchParams?e[i]=t.get(ty(i)):e[i]=t[ty(i)]}),nS(a(this,nT).call(this,d(this,nE,nL).call(this,nk(e,Boolean))),t=>t.toString())}function nL(t){return nS(t,t=>t8(t,window.location.origin))}function nj(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}p(nx,"keys",["signInForceRedirectUrl","signInFallbackRedirectUrl","signUpForceRedirectUrl","signUpFallbackRedirectUrl","afterSignInUrl","afterSignUpUrl","redirectUrl"]),p(nx,"preserved",["redirectUrl"]);var nD=function t(e,i){function n(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=nj({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in r){if(r[a])s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0])}return document.cookie=t+"="+e.write(n,t)+s}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=e.read(a,o),t===o)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",nj({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,nj({},this.attributes,e))},withConverter:function(e){return t(nj({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function nJ(t){return{get:()=>nD.get(t),set(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nD.set(t,e,i)},remove(e){nD.remove(t,e)}}}var nV="__clerk_db_jwt";function nK(t,e){let i=new URL(t),n=i.searchParams.get(nV);i.searchParams.delete(nV);let r=n||e;return r&&i.searchParams.set(nV,r),i}var nB=t=>t.searchParams.get(nV)||"",nq=t=>nH(nG(t)),nH=t=>{let e=new URL(t);return e.searchParams.delete(nV),e},nG=t=>{let e=new URL(t);return e.searchParams.delete("__dev_session"),e.hash=decodeURI(e.hash).replace(/__clerk_db_jwt\[(.*)\]/,""),e.href.endsWith("#")&&(e.hash=""),e};function n$(t,e){let i=function(t){try{return new Date(t||new Date)}catch{return new Date}}(t);return i.setFullYear(i.getFullYear()+e),i}let nY=nJ("__clerk_test_etld"),nZ=t=>"https:"===window.location.protocol||"None"===t&&void 0===window.safari&&(void 0!==window.isSecureContext?window.isSecureContext:"localhost"===window.location.hostname),nQ="__client_uat",nX=t=>{let e=nJ(nQ),i=nJ(tm(nQ,t));return{set:t=>{let r=n$(Date.now(),1),s=el()?"None":"Strict",a=nZ(s),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nY;if(n)return n;if(["localhost","127.0.0.1","0.0.0.0"].includes(t))return t;let i=t.split(".");if(1===i.length)return t;for(let t=i.length-2;t>=0;t--){let r=i.slice(t).join(".");if(e.set("1",{domain:r}),"1"===e.get())return e.remove({domain:r}),n=r,r;e.remove({domain:r})}}(),l="0";t&&t.updatedAt&&t.signedInSessions.length>0&&(l=Math.floor(t.updatedAt.getTime()/1e3).toString()),i.remove(),e.remove(),i.set(l,{expires:r,sameSite:s,domain:o,secure:a}),e.set(l,{expires:r,sameSite:s,domain:o,secure:a})},get:()=>parseInt(i.get()||e.get()||"0",10)}},n0="__session",n1=t=>{let e=nJ(n0),i=nJ(tm(n0,t));return{set:t=>{let n=n$(Date.now(),1),r=el()?"None":"Lax",s=nZ(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};async function n3(t){let e;try{e=await tf(t)}catch(a){t_.logOnce("Suffixed cookie failed due to ".concat(a.message," (secure-context: ").concat(window.isSecureContext,", url: ").concat(window.location.href,")"));let{default:n}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,394,23)),{default:r}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,202,23)),s=n(t);e=r.stringify(s).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}return e}let n2=t=>{let e=nJ(nV),i=nJ(tm(nV,t));return{get:()=>i.get()||e.get(),set:t=>{let n=n$(Date.now(),1),r=el()?"None":"Lax",s=nZ(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};var n5=i(19),n4=i.n(n5);class n6{startPollingForSessionToken(t){!this.timerId&&(this.timerId=this.workerTimers.setInterval(()=>{this.lock.acquireLockAndRun(t)},5e3))}stopPollingForSessionToken(){this.timerId&&(this.workerTimers.clearInterval(this.timerId),this.timerId=null)}constructor(){p(this,"lock",function(t){let e=new(n4());return window.addEventListener("beforeunload",async()=>{await e.releaseLock(t)}),{acquireLockAndRun:async i=>{if("locks"in navigator&&isSecureContext){let e=new AbortController,n=setTimeout(()=>e.abort(),4999);return await navigator.locks.request(t,{signal:e.signal},async()=>(clearTimeout(n),await i())).catch(()=>!1)}if(await e.acquireLock(t,5e3))try{return await i()}finally{await e.releaseLock(t)}}}}("clerk.lock.refreshSessionToken")),p(this,"workerTimers",ir()),p(this,"timerId",null)}}class n9{static async create(t,e,i){let n=await n3(t.publishableKey),r=new n9(t,e,n,i);return await r.setup(),r}async setup(){return"production"===this.instanceType?this.setupProduction():this.setupDevelopment()}isSignedOut(){return this.clerk.loaded?!!this.clerk.user:0>=this.clientUat.get()}async handleUnauthenticatedDevBrowser(){this.devBrowser.clear(),await this.devBrowser.setup()}decorateUrlWithDevBrowserToken(t){let e=this.devBrowser.getDevBrowserJWT();return e?nK(t,e):function(){throw Error("".concat(eC," Missing dev browser jwt. Please contact support."))}()}async setupDevelopment(){await this.devBrowser.setup()}setupProduction(){this.devBrowser.clear()}startPollingForToken(){this.poller||(this.poller=new n6),this.poller.startPollingForSessionToken(()=>this.refreshSessionToken())}refreshTokenOnFocus(){window.addEventListener("focus",()=>{"visible"===document.visibilityState&&this.refreshSessionToken({updateCookieImmediately:!0})})}async refreshSessionToken(){let{updateCookieImmediately:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clerk.session)try{let e=await this.clerk.session.getToken();t&&this.updateSessionCookie(e)}catch(t){return this.handleGetTokenError(t)}}updateSessionCookie(t){if(document.hasFocus()||this.isCurrentOrganizationActive())return this.setActiveOrganizationInStorage(),t?this.sessionCookie.set(t):this.sessionCookie.remove()}setClientUatCookieForDevelopmentInstances(){"production"!==this.instanceType&&this.inCustomDevelopmentDomain()&&this.clientUat.set(this.clerk.client)}inCustomDevelopmentDomain(){let t=this.clerk.frontendApi.replace("clerk.","");return!window.location.host.endsWith(t)}handleGetTokenError(t){if(Z(t)||eE(t.message||t),Y(t)){this.clerk.handleUnauthenticated();return}!("".concat(t.message).concat(t.name)||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")&&eE(t.toString())}setActiveOrganizationInStorage(){var t;(null===(t=this.clerk.organization)||void 0===t?void 0:t.id)?this.activeOrgCookie.set(this.clerk.organization.id):this.activeOrgCookie.remove()}isCurrentOrganizationActive(){var t,e;let i=this.activeOrgCookie.get();return!i&&(null===(t=this.clerk.organization)||void 0===t||!t.id)||(null===(e=this.clerk.organization)||void 0===e?void 0:e.id)===i}constructor(t,e,i,n){p(this,"clerk",void 0),p(this,"instanceType",void 0),p(this,"poller",void 0),p(this,"clientUat",void 0),p(this,"sessionCookie",void 0),p(this,"activeOrgCookie",void 0),p(this,"devBrowser",void 0),this.clerk=t,this.instanceType=n,this.poller=null,i1.on(i0.TokenUpdate,t=>{let{token:e}=t;this.updateSessionCookie(e&&e.getRawString()),this.setClientUatCookieForDevelopmentInstances()}),this.refreshTokenOnFocus(),this.startPollingForToken(),this.clientUat=nX(i),this.sessionCookie=n1(i),this.activeOrgCookie=nJ("clerk_active_org"),this.devBrowser=function(t){let{cookieSuffix:e,frontendApi:i,fapiClient:n}=t,r=n2(e);function s(){return r.get()}function a(t){r.set(t)}function o(){r.remove()}return{clear:function(){o()},setup:async function(){if(!t2(i))return;n.onBeforeRequest(t=>{let e=s();e&&(null==t?void 0:t.url)&&(t.url=nK(t.url,e))}),n.onAfterResponse((t,e)=>{var i;let n=null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i.get("Clerk-Db-Jwt");n&&a(n)});let t=function(t){let e=nB(t);return nq(t).href!==t.href&&void 0!==globalThis.history&&globalThis.history.replaceState(null,"",nq(t)),e}(new URL(window.location.href));if(t){a(t);return}if(r.get())return;let e=n.buildUrl({path:"/dev_browser"}),o=await fetch(e.toString(),{method:"POST"});if(!o.ok){let t=Q((await o.json()).errors);t[0]?eP(t[0].longMessage):eP()}let l=await o.json();a(null==l?void 0:l.id)},getDevBrowserJWT:s,setDevBrowserJWT:a,removeDevBrowserJWT:o}}({frontendApi:t.frontendApi,fapiClient:e,cookieSuffix:i})}}class n7{async start(){this.isEnabled()&&(await this.challengeAndSend(),this.timers.setInterval(()=>{this.challengeAndSend()},this.intervalInMs()))}async challengeAndSend(){if(!(!this.clerk.client||this.clientBypass()))try{let t=await this.captchaChallenge.invisible({action:"heartbeat"});await this.clerk.client.sendCaptchaToken(t)}catch{}}isEnabled(){var t,e;return!!(null===(e=this.clerk.__unstable__environment)||void 0===e?void 0:null===(t=e.displayConfig)||void 0===t?void 0:t.captchaHeartbeat)}clientBypass(){var t;return null===(t=this.clerk.client)||void 0===t?void 0:t.captchaBypass}intervalInMs(){var t,e,i;return null!==(i=null===(e=this.clerk.__unstable__environment)||void 0===e?void 0:null===(t=e.displayConfig)||void 0===t?void 0:t.captchaHeartbeatIntervalMs)&&void 0!==i?i:6e5}constructor(t,e=new eX(t),i=ir()){p(this,"clerk",void 0),p(this,"captchaChallenge",void 0),p(this,"timers",void 0),this.clerk=t,this.captchaChallenge=e,this.timers=i}}let n8="__clerk_synced",rt="__clerk_satellite_url",re={FORM_IDENTIFIER_NOT_FOUND:"form_identifier_not_found"},ri=["/client","/waitlist"],rn=t=>"\uD83D\uDD12 Clerk:\n".concat(t.trim(),"\n(This notice only appears in development)"),rr={cannotRenderComponentWhenSessionExists:"The <SignUp/> and <SignIn/> components cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the Home URL instead.",cannotRenderSignUpComponentWhenSessionExists:"The <SignUp/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the value set in `afterSignUp` URL instead.",cannotRenderSignInComponentWhenSessionExists:"The <SignIn/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the `afterSignIn` URL instead.",cannotRenderComponentWhenUserDoesNotExist:"<UserProfile/> cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotRenderComponentWhenOrgDoesNotExist:"<OrganizationProfile/> cannot render unless an organization is active. Since no organization is currently active, this is no-op.",cannotRenderAnyOrganizationComponent:t=>rn("The <".concat(t,"/> cannot be rendered when the feature is turned off. Visit 'dashboard.clerk.com' to enable the feature. Since the feature is turned off, this is no-op.")),cannotOpenUserProfile:"The UserProfile modal cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotOpenSignInOrSignUp:"The SignIn or SignUp modals do not render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, this is no-op."};for(let t of Object.keys(rr)){let e=rr[t];"function"!=typeof e&&(rr[t]=rn(e))}let rs={polling:!0,standardBrowser:!0,touchSession:!0,isSatellite:!1,signInUrl:void 0,signUpUrl:void 0,afterSignOutUrl:void 0,signInFallbackRedirectUrl:void 0,signUpFallbackRedirectUrl:void 0,signInForceRedirectUrl:void 0,signUpForceRedirectUrl:void 0};var ra=new WeakMap,ro=new WeakMap,rl=new WeakMap,rc=new WeakMap,rh=new WeakMap,rd=new WeakMap,ru=new WeakMap,rp=new WeakMap,rf=new WeakMap,rm=new WeakMap,rv=new WeakMap,rg=new WeakMap,r_=new WeakMap,rw=new WeakMap,rb=new WeakMap,ry=new WeakSet,rS=new WeakMap,rk=new WeakMap,rU=new WeakMap,rA=new WeakMap,rI=new WeakMap,rO=new WeakMap,rC=new WeakMap,rP=new WeakMap,rE=new WeakMap,rT=new WeakMap,rx=new WeakMap,rM=new WeakMap,rR=new WeakMap,rz=new WeakMap,rW=new WeakMap,rN=new WeakMap,rF=new WeakMap,rL=new WeakMap,rj=new WeakMap,rD=new WeakMap,rJ=new WeakMap,rV=new WeakMap,rK=new WeakMap,rB=new WeakMap,rq=new WeakMap,rH=new WeakMap;class rG{get publishableKey(){return a(this,ra)}get version(){return rG.version}set sdkMetadata(t){rG.sdkMetadata=t}get sdkMetadata(){return rG.sdkMetadata}get loaded(){return a(this,rm)}get isSatellite(){return!!eo()&&tz(a(this,r_).isSatellite,new URL(window.location.href),!1)}get domain(){if(eo()){let t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t||"").replace(/^.+:\/\//,"")}(tz(a(this,ro),new URL(window.location.href)));return"production"===a(this,rf)?function(t){let e;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}let i=t.replace(e,"");return"clerk.".concat(i)}(t):t}return""}get proxyUrl(){if(eo()){let t=tz(a(this,rl),new URL(window.location.href));return!(!t||tw(t)||tb(t))&&tH.throwInvalidProxyUrl({url:t}),t?tb(t)?new URL(t,window.location.origin).toString():t:""}return""}get frontendApi(){let t=tu(this.publishableKey);return t?t.frontendApi:tH.throwInvalidPublishableKeyError({key:this.publishableKey})}get instanceType(){return a(this,rf)}get isStandardBrowser(){return a(this,r_).standardBrowser||!1}__internal_getOption(t){return a(this,r_)[t]}get isSignedIn(){return!!this.session}buildUrlWithAuth(t){if("production"===a(this,rf))return t;let e=new URL(t,window.location.origin);return e.origin!==window.location.origin&&a(this,rc)?a(this,rc).decorateUrlWithDevBrowserToken(e).href:e.href}buildSignInUrl(t){return a(this,rV).call(this,"signInUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildSignUpUrl(t){return a(this,rV).call(this,"signUpUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildUserProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.userProfileUrl):""}buildHomeUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.homeUrl):""}buildAfterSignInUrl(){let{params:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buildUrlWithAuth(new nx(a(this,r_),{},t).getAfterSignInUrl())}buildAfterSignUpUrl(){let{params:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buildUrlWithAuth(new nx(a(this,r_),{},t).getAfterSignUpUrl())}buildAfterSignOutUrl(){return a(this,r_).afterSignOutUrl?this.buildUrlWithAuth(a(this,r_).afterSignOutUrl):"/"}buildWaitlistUrl(t){return this.environment&&this.environment.displayConfig?t6({base:a(this,r_).waitlistUrl||this.environment.displayConfig.waitlistUrl,hashSearchParams:[new URLSearchParams((null==t?void 0:t.initialValues)||{})]},{stringify:!0}):""}buildAfterMultiSessionSingleSignOutUrl(){if(!a(this,r_).afterMultiSessionSingleSignOutUrl){var t;return this.buildUrlWithAuth(t6({base:a(this,r_).signInUrl?"".concat(a(this,r_).signInUrl,"/choose"):null===(t=this.environment)||void 0===t?void 0:t.displayConfig.afterSignOutOneUrl},{stringify:!0}))}return this.buildUrlWithAuth(a(this,r_).afterMultiSessionSingleSignOutUrl)}buildCreateOrganizationUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.createOrganizationUrl):""}buildOrganizationProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.organizationProfileUrl):""}updateEnvironment(t){this.environment=t}get __internal_last_error(){let t=this.internal_last_error;return this.internal_last_error=null,t}set __internal_last_error(t){this.internal_last_error=t}get __unstable__environment(){return this.environment}__internal_navigateWithError(t,e){return this.__internal_last_error=e,this.navigate(t)}assertComponentsReady(t){if(!rG.mountComponentRenderer)throw Error("ClerkJS was loaded without UI components.");if(!t)throw Error("ClerkJS components are not ready yet.")}constructor(t,e){var i=this;if(u(this,ry),l(this,rH,{get:rY,set:void 0}),p(this,"client",void 0),p(this,"session",void 0),p(this,"organization",void 0),p(this,"user",void 0),p(this,"__internal_country",void 0),p(this,"telemetry",void 0),p(this,"internal_last_error",null),p(this,"environment",void 0),l(this,ra,{writable:!0,value:""}),l(this,ro,{writable:!0,value:void 0}),l(this,rl,{writable:!0,value:void 0}),l(this,rc,{writable:!0,value:void 0}),l(this,rh,{writable:!0,value:void 0}),l(this,rd,{writable:!0,value:null}),l(this,ru,{writable:!0,value:void 0}),l(this,rp,{writable:!0,value:void 0}),l(this,rf,{writable:!0,value:void 0}),l(this,rm,{writable:!0,value:!1}),l(this,rv,{writable:!0,value:[]}),l(this,rg,{writable:!0,value:[]}),l(this,r_,{writable:!0,value:{}}),l(this,rw,{writable:!0,value:null}),l(this,rb,{writable:!0,value:0}),p(this,"__internal_getCachedResources",void 0),p(this,"__internal_createPublicCredentials",void 0),p(this,"__internal_getPublicCredentials",void 0),p(this,"__internal_isWebAuthnSupported",void 0),p(this,"__internal_isWebAuthnAutofillSupported",void 0),p(this,"__internal_isWebAuthnPlatformAuthenticatorSupported",void 0),p(this,"getFapiClient",()=>a(this,rp)),p(this,"load",async t=>{!this.loaded&&("development"===a(this,rf)&&t_.warnOnce("Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview"),h(this,r_,a(this,rB).call(this,t)),eO(a(this,r_)),a(this,r_).sdkMetadata&&(rG.sdkMetadata=a(this,r_).sdkMetadata),!1!==a(this,r_).telemetry&&(this.telemetry=new tC({clerkVersion:rG.version,samplingRate:1,publishableKey:this.publishableKey,...a(this,r_).telemetry})),a(this,r_).standardBrowser?h(this,rm,await a(this,rE).call(this)):h(this,rm,await a(this,rT).call(this)))}),p(this,"signOut",async(t,e)=>{var i,n,r;if(!this.client||0===this.client.sessions.length)return;let s="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tR,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tR,l=t&&"object"==typeof t?t:e||{},c=(null==l?void 0:l.redirectUrl)||this.buildAfterSignOutUrl(),h="function"==typeof t?t:void 0,d=async()=>{let t=tj(a(this,r_).standardBrowser);i1.dispatch(i0.UserSignOut,null),i1.dispatch(i0.TokenUpdate,{token:null}),a(this,rN).call(this),await t.track(async()=>{h?await h():await this.navigate(c)}),!t.isUnloading()&&(a(this,rL).call(this),a(this,rz).call(this),await o())};if(await s(),!l.sessionId||1===this.client.signedInSessions.length){null===(r=null===(n=a(this,r_).experimental)||void 0===n?void 0:n.persistClient)||void 0===r||r?await this.client.removeSessions():await this.client.destroy(),await d();return}let u=this.client.signedInSessions.find(t=>t.id===l.sessionId),p=(null==u?void 0:u.id)&&(null===(i=this.session)||void 0===i?void 0:i.id)===u.id;await (null==u?void 0:u.remove()),p&&await d()}),p(this,"openGoogleOneTap",t=>{var e;this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"GoogleOneTap"}).then(e=>e.openModal("googleOneTap",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("GoogleOneTap",t))}),p(this,"closeGoogleOneTap",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("googleOneTap"))}),p(this,"openSignIn",t=>{var e,i;if(this.assertComponentsReady(a(this,ru)),tJ(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,ru).ensureMounted({preloadHint:"SignIn"}).then(e=>e.openModal("signIn",t||{}));let n={withSignUp:null!==(i=null==t?void 0:t.withSignUp)&&void 0!==i?i:d(this,ry,r$).call(this)};null===(e=this.telemetry)||void 0===e||e.record(tT("SignIn",t,n))}),p(this,"closeSignIn",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("signIn"))}),p(this,"__internal_openReverification",t=>{var e;if(this.assertComponentsReady(a(this,ru)),tV(this)){if("development"===a(this,rf))throw new te(rr.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,ru).ensureMounted({preloadHint:"UserVerification"}).then(e=>e.openModal("userVerification",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("UserVerification",t))}),p(this,"__internal_closeReverification",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("userVerification"))}),p(this,"__internal_openBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.openModal("blankCaptcha",{})))),p(this,"__internal_closeBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.closeModal("blankCaptcha")))),p(this,"openSignUp",t=>{var e;if(this.assertComponentsReady(a(this,ru)),tJ(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,ru).ensureMounted({preloadHint:"SignUp"}).then(e=>e.openModal("signUp",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("SignUp",t))}),p(this,"closeSignUp",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("signUp"))}),p(this,"openUserProfile",t=>{var e,i;if(this.assertComponentsReady(a(this,ru)),tV(this)){if("development"===a(this,rf))throw new te(rr.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,ru).ensureMounted({preloadHint:"UserProfile"}).then(e=>e.openModal("userProfile",t||{}));let n=(null==t?void 0:null===(e=t.customPages)||void 0===e?void 0:e.length)?{customPages:!0}:void 0;null===(i=this.telemetry)||void 0===i||i.record(tT("UserProfile",t,n))}),p(this,"closeUserProfile",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("userProfile"))}),p(this,"openOrganizationProfile",t=>{var e;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}if(tK(this)){if("development"===a(this,rf))throw new te(rr.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,ru).ensureMounted({preloadHint:"OrganizationProfile"}).then(e=>e.openModal("organizationProfile",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("OrganizationProfile",t))}),p(this,"closeOrganizationProfile",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("organizationProfile"))}),p(this,"openCreateOrganization",t=>{var e;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}a(this,ru).ensureMounted({preloadHint:"CreateOrganization"}).then(e=>e.openModal("createOrganization",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("CreateOrganization",t))}),p(this,"closeCreateOrganization",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("createOrganization"))}),p(this,"openWaitlist",t=>{var e;this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"Waitlist"}).then(e=>e.openModal("waitlist",t||{})),null===(e=this.telemetry)||void 0===e||e.record(tT("Waitlist",t))}),p(this,"closeWaitlist",()=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(t=>t.closeModal("waitlist"))}),p(this,"mountSignIn",(t,e)=>{var i,n;this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"SignIn"}).then(i=>i.mountComponent({name:"SignIn",appearanceKey:"signIn",node:t,props:e}));let r={withSignUp:null!==(n=null==e?void 0:e.withSignUp)&&void 0!==n?n:d(this,ry,r$).call(this)};null===(i=this.telemetry)||void 0===i||i.record(tE("SignIn",e,r))}),p(this,"unmountSignIn",t=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountSignUp",(t,e)=>{var i;this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted({preloadHint:"SignUp"}).then(i=>i.mountComponent({name:"SignUp",appearanceKey:"signUp",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tE("SignUp",e))}),p(this,"unmountSignUp",t=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserProfile",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,ru)),tV(this)){if("development"===a(this,rf))throw new te(rr.cannotRenderComponentWhenUserDoesNotExist,{code:"cannot_render_user_missing"});return}a(this,ru).ensureMounted({preloadHint:"UserProfile"}).then(i=>i.mountComponent({name:"UserProfile",appearanceKey:"userProfile",node:t,props:e}));let r=(null==e?void 0:null===(i=e.customPages)||void 0===i?void 0:i.length)?{customPages:!0}:void 0;null===(n=this.telemetry)||void 0===n||n.record(tE("UserProfile",e,r))}),p(this,"unmountUserProfile",t=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}let n=!tV(this);if(tK(this)&&n){if("development"===a(this,rf))throw new te(rr.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,ru).ensureMounted({preloadHint:"OrganizationProfile"}).then(i=>i.mountComponent({name:"OrganizationProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(tE("OrganizationProfile",e))}),p(this,"unmountOrganizationProfile",t=>{this.assertComponentsReady(a(this,ru)),a(this,ru).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountCreateOrganization",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,ru))||void 0===i||i.ensureMounted({preloadHint:"CreateOrganization"}).then(i=>i.mountComponent({name:"CreateOrganization",appearanceKey:"createOrganization",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("CreateOrganization",e))}),p(this,"unmountCreateOrganization",t=>{var e;this.assertComponentsReady(a(this,ru)),null===(e=a(this,ru))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationSwitcher",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("OrganizationSwitcher"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,ru))||void 0===i||i.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(i=>i.mountComponent({name:"OrganizationSwitcher",appearanceKey:"organizationSwitcher",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("OrganizationSwitcher",e))}),p(this,"unmountOrganizationSwitcher",t=>{var e;this.assertComponentsReady(a(this,ru)),null===(e=a(this,ru))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"__experimental_prefetchOrganizationSwitcher",()=>{var t;this.assertComponentsReady(a(this,ru)),null===(t=a(this,ru))||void 0===t||t.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(t=>t.prefetch("organizationSwitcher"))}),p(this,"mountOrganizationList",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,ru)),tB(this,this.environment)){if("development"===a(this,rf))throw new te(rr.cannotRenderAnyOrganizationComponent("OrganizationList"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,ru))||void 0===i||i.ensureMounted({preloadHint:"OrganizationList"}).then(i=>i.mountComponent({name:"OrganizationList",appearanceKey:"organizationList",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("OrganizationList",e))}),p(this,"unmountOrganizationList",t=>{var e;this.assertComponentsReady(a(this,ru)),null===(e=a(this,ru))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserButton",(t,e)=>{var i,n,r;this.assertComponentsReady(a(this,ru)),null===(i=a(this,ru))||void 0===i||i.ensureMounted({preloadHint:"UserButton"}).then(i=>i.mountComponent({name:"UserButton",appearanceKey:"userButton",node:t,props:e}));let s={...(null==e?void 0:null===(n=e.customMenuItems)||void 0===n?void 0:n.length)?{customItems:!0}:void 0,...(null==e?void 0:e.__experimental_asStandalone)?{standalone:!0}:void 0};null===(r=this.telemetry)||void 0===r||r.record(tE("UserButton",e,s))}),p(this,"unmountUserButton",t=>{var e;this.assertComponentsReady(a(this,ru)),null===(e=a(this,ru))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountWaitlist",(t,e)=>{var i,n;this.assertComponentsReady(a(this,ru)),null===(i=a(this,ru))||void 0===i||i.ensureMounted({preloadHint:"Waitlist"}).then(i=>i.mountComponent({name:"Waitlist",appearanceKey:"waitlist",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(tE("Waitlist",e))}),p(this,"unmountWaitlist",t=>{var e;this.assertComponentsReady(a(this,ru)),null===(e=a(this,ru))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"setActive",async t=>{let{session:e,organization:i,beforeEmit:n,redirectUrl:r}=t;if(!this.client)throw Error("setActive is being called before the client is loaded. Wait for init.");if(void 0===e&&!this.session)throw Error("setActive should either be called with a session param or there should be already an active session.");let s="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tR,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tR;"string"==typeof e&&(e=this.client.sessions.find(t=>t.id===e)||null);let l=void 0===e?this.session:e,c=void 0!==i;if(l&&c){let t="string"==typeof i?i:null==i?void 0:i.id;if("string"==typeof t&&t.startsWith("org_"))l.lastActiveOrganizationId=t||null;else{let e=l.user.organizationMemberships.find(e=>e.organization.slug===t);l.lastActiveOrganizationId=(null==e?void 0:e.organization.id)||null}}(null==e?void 0:e.lastActiveToken)&&i1.dispatch(i0.TokenUpdate,{token:e.lastActiveToken}),await s(null===l?"sign-out":void 0),(eo()&&globalThis.document.hasFocus()||!a(this,r_).standardBrowser)&&(await a(this,rR).call(this,l),l=a(this,rj).call(this,null==l?void 0:l.id)),await (null==l?void 0:l.getToken())||i1.dispatch(i0.TokenUpdate,{token:null});let h=tj(a(this,r_).standardBrowser);n&&($("Clerk.setActive({beforeEmit})",'Use the `redirectUrl` property instead. Example `Clerk.setActive({redirectUrl:"/"})`'),await h.track(async()=>{a(this,rN).call(this),await n(l)})),r&&!n&&await h.track(async()=>{if(this.client){if(a(this,rN).call(this),this.client.isEligibleForTouch()){let t=new URL(r,window.location.href);await this.navigate(this.buildUrlWithAuth(this.client.buildTouchUrl({redirectUrl:t})))}else await this.navigate(r)}}),!h.isUnloading()&&(a(this,rL).call(this,l),a(this,rz).call(this),await o())}),p(this,"addListener",t=>{var e;let i;return e=t,t=t=>{var n;i||(i={...t}),e(i={client:nb((n=i).client,t.client),session:nb(n.session,t.session),user:nb(n.user,t.user),organization:nb(n.organization,t.organization)})},a(this,rv).push(t),this.client&&t({client:this.client,session:this.session,user:this.user,organization:this.organization}),()=>{h(this,rv,a(this,rv).filter(e=>e!==t))}}),p(this,"__internal_addNavigationListener",t=>(a(this,rg).push(t),()=>{h(this,rg,a(this,rg).filter(e=>e!==t))})),p(this,"navigate",async(t,e)=>{var i;if(!t||!eo())return;setTimeout(()=>{a(this,rW).call(this)},0);let n=new URL(t,window.location.href);a(this,rH).includes(n.protocol)||(console.warn('Clerk: "'.concat(n.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),n=new URL("/",window.location.href));let r=(null==e?void 0:e.replace)&&a(this,r_).routerReplace?a(this,r_).routerReplace:a(this,r_).routerPush;if(a(this,r_).routerDebug&&console.log("Clerk is navigating to: ".concat(n)),"null"!==n.origin&&n.origin!==window.location.origin||!r){tF(n);return}let s={...(null==e?void 0:e.metadata)?{__internal_metadata:null==e?void 0:e.metadata}:{},windowNavigate:tF};return await r((i=new URL((i=n).toString(),window.location.origin)).href.replace(i.origin,""),s)}),l(this,rS,{writable:!0,value:async()=>{if(!eo())return;let t=new URLSearchParams({[n8]:"true"}),e=tG(rt);e&&tw(e)||function(){throw Error("".concat(eC," Invalid redirect_url. A valid http or https url should be used for the redirection."))}();let i=t6({base:tG(rt),searchParams:t},{stringify:!0});return this.navigate(this.buildUrlWithAuth(i))}}),p(this,"redirectWithAuth",async t=>{if(eo())return this.navigate(this.buildUrlWithAuth(t))}),p(this,"redirectToSignIn",async t=>{if(eo())return this.navigate(this.buildSignInUrl(t))}),p(this,"redirectToSignUp",async t=>{if(eo())return this.navigate(this.buildSignUpUrl(t))}),p(this,"redirectToUserProfile",async()=>{if(eo())return this.navigate(this.buildUserProfileUrl())}),p(this,"redirectToCreateOrganization",async()=>{if(eo())return this.navigate(this.buildCreateOrganizationUrl())}),p(this,"redirectToOrganizationProfile",async()=>{if(eo())return this.navigate(this.buildOrganizationProfileUrl())}),p(this,"redirectToAfterSignIn",async()=>{if(eo())return this.navigate(this.buildAfterSignInUrl())}),p(this,"redirectToAfterSignUp",async()=>{if(eo())return this.navigate(this.buildAfterSignUpUrl())}),p(this,"redirectToAfterSignOut",async()=>{if(eo())return this.navigate(this.buildAfterSignOutUrl())}),p(this,"redirectToWaitlist",async()=>{if(eo())return this.navigate(this.buildWaitlistUrl())}),p(this,"handleEmailLinkVerification",async(t,e)=>{if(!this.client)return;let i=tG("__clerk_status");if("expired"===i)throw new ti(tn.Expired);if("client_mismatch"===i)throw new ti(tn.ClientMismatch);if("verified"!==i)throw new ti(tn.Failed);let n=tG("__clerk_created_session"),{signIn:r,signUp:s,sessions:a}=this.client,o=a.some(t=>t.id===n),l="needs_second_factor"===r.status||"missing_requirements"===s.status,c=t=>e&&"function"==typeof e?e(t):this.navigate(t),h=t.redirectUrl?()=>c(t.redirectUrl):tR;return o?this.setActive({session:n,redirectUrl:t.redirectUrlComplete}):l?h():("function"==typeof t.onVerifiedOnOtherDevice&&t.onVerifiedOnOtherDevice(),null)}),p(this,"handleGoogleOneTapCallback",async(t,e,i)=>{if(!this.loaded||!this.environment||!this.client)return;let{signIn:n,signUp:r}=this.client,s="identifier"in(t||{})?t:n,a="missingFields"in(t||{})?t:r;return this._handleRedirectCallback(e,{signUp:a,signIn:s,navigate:t=>i&&"function"==typeof i?i(this.buildUrlWithAuth(t)):this.navigate(this.buildUrlWithAuth(t))})}),p(this,"_handleRedirectCallback",async(t,e)=>{var i,n,r,s,o,l,c;let{signIn:h,signUp:d,navigate:u}=e;if(!this.loaded||!this.environment||!this.client)return;let{displayConfig:p}=this.environment,{firstFactorVerification:f}=h,{externalAccount:m}=d.verifications,v={status:d.status,missingFields:d.missingFields,externalAccountStatus:m.status,externalAccountErrorCode:null===(i=m.error)||void 0===i?void 0:i.code,externalAccountSessionId:null===(r=m.error)||void 0===r?void 0:null===(n=r.meta)||void 0===n?void 0:n.sessionId,sessionId:d.createdSessionId},g={status:h.status,firstFactorVerificationStatus:f.status,firstFactorVerificationErrorCode:null===(s=f.error)||void 0===s?void 0:s.code,firstFactorVerificationSessionId:null===(l=f.error)||void 0===l?void 0:null===(o=l.meta)||void 0===o?void 0:o.sessionId,sessionId:h.createdSessionId},_=t=>()=>u(t),w=_(t.signInUrl||p.signInUrl),b=_(t.signUpUrl||p.signUpUrl),y=_(t.firstFactorUrl||t6({base:p.signInUrl,hashPath:"/factor-one"},{stringify:!0})),S=_(t.secondFactorUrl||t6({base:p.signInUrl,hashPath:"/factor-two"},{stringify:!0})),k=_(t.resetPasswordUrl||t6({base:p.signInUrl,hashPath:"/reset-password"},{stringify:!0})),U=new nx(a(this,r_),t),A=_(t.continueSignUpUrl||t6({base:p.signUpUrl,hashPath:"/continue"},{stringify:!0})),I=e=>{let{missingFields:i}=e;return i.length?A():tD({signUp:d,verifyEmailPath:t.verifyEmailAddressUrl||t6({base:p.signUpUrl,hashPath:"/verify-email-address"},{stringify:!0}),verifyPhonePath:t.verifyPhoneNumberUrl||t6({base:p.signUpUrl,hashPath:"/verify-phone-number"},{stringify:!0}),navigate:u})};if("complete"===g.status)return this.setActive({session:g.sessionId,redirectUrl:U.getAfterSignInUrl()});if("transferable"===v.externalAccountStatus&&"external_account_exists"===v.externalAccountErrorCode){let t=await h.create({transfer:!0});switch(t.status){case"complete":return this.setActive({session:t.createdSessionId,redirectUrl:U.getAfterSignInUrl()});case"needs_first_factor":return y();case"needs_second_factor":return S();case"needs_new_password":return k();default:eT("sign in")}}let O="user_locked"===v.externalAccountErrorCode,C="user_locked"===g.firstFactorVerificationErrorCode;if(O)return b();if(C)return w();if("needs_first_factor"===g.status&&!(null===(c=h.supportedFirstFactors)||void 0===c?void 0:c.every(t=>"enterprise_sso"===t.strategy)))return y();if("needs_new_password"===g.status)return k();if("transferable"===g.firstFactorVerificationStatus){if(!1===t.transferable)return w();let e=await d.create({transfer:!0});switch(e.status){case"complete":return this.setActive({session:e.createdSessionId,redirectUrl:U.getAfterSignUpUrl()});case"missing_requirements":return I({missingFields:e.missingFields});default:eT("sign in")}}if("complete"===v.status)return this.setActive({session:v.sessionId,redirectUrl:U.getAfterSignUpUrl()});if("needs_second_factor"===g.status)return S();let P=("failed"===v.externalAccountStatus||"unverified"===v.externalAccountStatus)&&"identifier_already_signed_in"===v.externalAccountErrorCode&&v.externalAccountSessionId,E="failed"===g.firstFactorVerificationStatus&&"identifier_already_signed_in"===g.firstFactorVerificationErrorCode&&g.firstFactorVerificationSessionId;if(P||E){let t=g.firstFactorVerificationSessionId||v.externalAccountSessionId;if(t)return this.setActive({session:t,redirectUrl:U.getAfterSignInUrl()})}return t7(d)?b():"verified"===v.externalAccountStatus&&"missing_requirements"===v.status?I({missingFields:d.missingFields}):w()}),p(this,"handleRedirectCallback",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!i.loaded||!i.environment||!i.client)return;let{signIn:n,signUp:r}=i.client;return i._handleRedirectCallback(t,{signUp:r,signIn:n,navigate:t=>e&&"function"==typeof e?e(t):i.navigate(t)})}),p(this,"handleUnauthenticated",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{broadcast:!0};if(i.client&&i.session)try{let e=await e9.getOrCreateInstance().fetch();if(i.updateClient(e),i.session)return;return t.broadcast&&i1.dispatch(i0.UserSignOut,null),i.setActive({session:null})}catch(t){if(403===t.status)return i.setActive({session:null});throw t}}),p(this,"authenticateWithGoogleOneTap",async t=>{var e;return null===(e=this.client)||void 0===e?void 0:e.signIn.create({strategy:"google_one_tap",token:t.token}).catch(e=>{if(Z(e)&&"external_account_not_found"===e.errors[0].code){var i;return null===(i=this.client)||void 0===i?void 0:i.signUp.create({strategy:"google_one_tap",token:t.token,legalAccepted:t.legalAccepted})}throw e})}),p(this,"authenticateWithMetamask",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithWeb3",async t=>{let e,{redirectUrl:i,signUpContinueUrl:n,customNavigate:r,unsafeMetadata:s,strategy:a,legalAccepted:o}=t;if(!this.client||!this.environment)return;let l=a.replace("web3_","").replace("_signature",""),c=await e_({provider:l}),h="metamask"===l?ek:"coinbase_wallet"===l?eU:eA;try{e=await this.client.signIn.authenticateWithWeb3({identifier:c,generateSignature:h,strategy:a})}catch(t){if(tq(t,re.FORM_IDENTIFIER_NOT_FOUND)){if(e=await this.client.signUp.authenticateWithWeb3({identifier:c,generateSignature:h,unsafeMetadata:s,strategy:a,legalAccepted:o}),n&&"missing_requirements"===e.status&&"verified"===e.verifications.web3Wallet.status)await (r&&"function"==typeof r?r(n):this.navigate(n))}else throw t}e.createdSessionId&&await this.setActive({session:e.createdSessionId,redirectUrl:i})}),p(this,"createOrganization",async t=>{let{name:e,slug:i}=t;return iz.create({name:e,slug:i})}),p(this,"getOrganization",async t=>iz.get(t)),p(this,"joinWaitlist",async t=>{let{emailAddress:e}=t;return n_.join({emailAddress:e})}),p(this,"__internal_setCountry",t=>{this.__internal_country||(this.__internal_country=t)}),p(this,"updateClient",t=>{if(!this.client){let e=a(this,r_).selectInitialSession?a(this,r_).selectInitialSession(t):a(this,rx).call(this,t);a(this,rL).call(this,e)}if(this.client=t,this.session){var e;let t=a(this,rj).call(this,this.session.id);a(this,rL).call(this,t),i1.dispatch(i0.TokenUpdate,{token:null===(e=this.session)||void 0===e?void 0:e.lastActiveToken})}a(this,rz).call(this)}),p(this,"__unstable__setEnvironment",async t=>{this.environment=new il(t),rG.mountComponentRenderer&&h(this,ru,rG.mountComponentRenderer(this,this.environment,a(this,r_)))}),p(this,"__unstable__onBeforeRequest",t=>{a(this,rp).onBeforeRequest(t)}),p(this,"__unstable__onAfterResponse",t=>{a(this,rp).onAfterResponse(t)}),p(this,"__unstable__updateProps",t=>{var e;let i={...t,options:a(this,rB).call(this,{...a(this,r_),...t.options})};return null===(e=a(this,ru))||void 0===e?void 0:e.ensureMounted().then(t=>t.updateProps(i))}),l(this,rk,{writable:!0,value:()=>{let t=new URLSearchParams({[rt]:window.location.href});return t6({base:a(this,r_).signInUrl,searchParams:t},{stringify:!0})}}),l(this,rU,{writable:!0,value:()=>{let t;if(this.proxyUrl){let e=new URL(this.proxyUrl);t=new URL("".concat(e.pathname,"/v1/client/sync"),e.origin)}else this.domain&&(t=new URL("/v1/client/sync","https://".concat(this.domain)));return null==t||t.searchParams.append("redirect_url",window.location.href),(null==t?void 0:t.toString())||""}}),l(this,rA,{writable:!0,value:()=>{var t;return"true"!==tG(n8)&&!!this.isSatellite&&!!(null===(t=a(this,rc))||void 0===t?void 0:t.isSignedOut())}}),l(this,rI,{writable:!0,value:()=>"production"!==a(this,rf)&&!this.isSatellite&&!!tG(rt)}),l(this,rO,{writable:!0,value:async()=>{"development"===this.instanceType?await this.navigate(a(this,rk).call(this)):"production"===this.instanceType&&await this.navigate(a(this,rU).call(this))}}),l(this,rC,{writable:!0,value:(t,e)=>{let i;try{i=new URL(t)}catch{!function(){throw Error("".concat(eC," The signInUrl needs to have a absolute url format."))}()}i.origin===e&&function(){throw Error("".concat(eC," The signInUrl needs to be on a different origin than your satellite application."))}()}}),l(this,rP,{writable:!0,value:()=>{this.isSatellite&&("development"!==a(this,rf)||a(this,r_).signInUrl||function(){throw Error("".concat(eC," Missing signInUrl. A satellite application needs to specify the signInUrl for development instances."))}(),this.proxyUrl||this.domain||function(){throw Error("".concat(eC," Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl."))}(),a(this,r_).signInUrl&&a(this,rC).call(this,a(this,r_).signInUrl,window.location.origin))}}),l(this,rE,{writable:!0,value:async()=>{var t,e;if(h(this,rc,await n9.create(this,a(this,rp),a(this,rf))),a(this,rP).call(this),a(this,rA).call(this))return await a(this,rO).call(this),!1;if(a(this,rI).call(this))return await a(this,rS).call(this),!1;h(this,rw,ea()),h(this,rd,new tv("clerk")),a(this,rM).call(this);let i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!t)return!1;let e=t5.get(t);if(void 0===e)e=tl.some(e=>t.startsWith("accounts.")&&t.endsWith(e))||tc.some(e=>t.endsWith(e)&&!t.endsWith(".clerk"+e)),t5.set(t,e);return e}(null===(t=window)||void 0===t?void 0:t.location.hostname),n="development"===a(this,rf)&&!i,r=0;for(;r<2;){r++;try{let t=il.getInstance().fetch({touch:n}).then(t=>{this.updateEnvironment(t)}),i=()=>e9.getOrCreateInstance().fetch().then(t=>this.updateClient(t)),r=()=>{rG.mountComponentRenderer&&!a(this,ru)&&h(this,ru,rG.mountComponentRenderer(this,this.environment,a(this,r_)))};if(await Promise.all([t,i()]).catch(async e=>{if(Z(e)&&"requires_captcha"===e.errors[0].code)await t,r(),await i();else throw e}),null===(e=a(this,rc))||void 0===e||e.setClientUatCookieForDevelopmentInstances(),await a(this,rK).call(this))return!1;r();break}catch(t){if(tq(t,"dev_browser_unauthenticated"))await a(this,rc).handleUnauthenticatedDevBrowser();else if(!(L()&&F()))return console.warn(t),!1;else throw t}r>=2&&function(){throw Error("".concat(eC," Something went wrong initializing Clerk."))}()}return h(this,rh,new n7(this)),a(this,rh).start(),a(this,rq).call(this),a(this,rD).call(this),a(this,rJ).call(this),!0}}),p(this,"shouldFallbackToCachedResources",()=>!!this.__internal_getCachedResources),l(this,rT,{writable:!0,value:async()=>{let t,e;let i=this.shouldFallbackToCachedResources()?1:void 0;try{[t,e]=await Promise.all([il.getInstance().fetch({touch:!1,fetchMaxTries:i}),e9.getOrCreateInstance().fetch({fetchMaxTries:i})])}catch(i){if("clerkRuntimeError"in i&&"network_error"===i.code&&this.shouldFallbackToCachedResources()){var n;let i=await (null===(n=this.__internal_getCachedResources)||void 0===n?void 0:n.call(this));t=new il(null==i?void 0:i.environment),e9.clearInstance(),e=e9.getOrCreateInstance(null==i?void 0:i.client)}else throw i}return this.updateClient(e),this.updateEnvironment(t),rG.mountComponentRenderer&&h(this,ru,rG.mountComponentRenderer(this,this.environment,a(this,r_))),!0}}),p(this,"__internal_reloadInitialResources",async()=>{let[t,e]=await Promise.all([il.getInstance().fetch({touch:!1,fetchMaxTries:1}),e9.getOrCreateInstance().fetch({fetchMaxTries:1})]);this.updateClient(e),this.updateEnvironment(t),a(this,rz).call(this)}),l(this,rx,{writable:!0,value:t=>{if(t.lastActiveSessionId){let e=t.signedInSessions.find(e=>e.id===t.lastActiveSessionId);if(e)return e}return t.signedInSessions[0]||null}}),l(this,rM,{writable:!0,value:()=>{var t,e;f()&&(null===(t=a(this,rw))||void 0===t||t.onPageFocus(()=>{!(!this.session||a(this,rb)>Date.now())&&(h(this,rb,Date.now()+5e3),a(this,rR).call(this,this.session))}),null===(e=a(this,rd))||void 0===e||e.addEventListener("message",t=>{let{data:e}=t;"signout"===e.type&&this.handleUnauthenticated({broadcast:!1})}),i1.on(i0.UserSignOut,()=>{var t;null===(t=a(this,rd))||void 0===t||t.postMessage({type:"signout"})}))}}),l(this,rR,{writable:!0,value:async t=>{if(!t||!a(this,r_).touchSession)return Promise.resolve();await t.touch().catch(t=>{Y(t)&&this.handleUnauthenticated()})}}),l(this,rz,{writable:!0,value:()=>{if(this.client)for(let t of a(this,rv))t({client:this.client,session:this.session,user:this.user,organization:this.organization})}}),l(this,rW,{writable:!0,value:()=>{for(let t of a(this,rg))t()}}),l(this,rN,{writable:!0,value:()=>{this.session=void 0,this.organization=void 0,this.user=void 0,a(this,rz).call(this)}}),l(this,rF,{writable:!0,value:()=>{var t;return((null===(t=this.session)||void 0===t?void 0:t.user.organizationMemberships)||[]).map(t=>t.organization).find(t=>{var e;return t.id===(null===(e=this.session)||void 0===e?void 0:e.lastActiveOrganizationId)})||null}}),l(this,rL,{writable:!0,value:t=>{this.session=t||null,this.organization=a(this,rF).call(this),this.user=this.session?this.session.user:null}}),l(this,rj,{writable:!0,value:t=>{var e;return(null===(e=this.client)||void 0===e?void 0:e.signedInSessions.find(e=>e.id===t))||null}}),l(this,rD,{writable:!0,value:()=>{this.addListener(t=>{let{session:e}=t;if(null==e?void 0:e.actor){var i;null===(i=a(this,ru))||void 0===i||i.ensureMounted().then(t=>t.mountImpersonationFab())}})}}),l(this,rJ,{writable:!0,value:()=>{if(a(this,r_).__internal_keyless_claimKeylessApplicationUrl){var t;null===(t=a(this,ru))||void 0===t||t.ensureMounted().then(t=>{t.updateProps({options:{__internal_keyless_claimKeylessApplicationUrl:a(this,r_).__internal_keyless_claimKeylessApplicationUrl,__internal_keyless_copyInstanceKeysUrl:a(this,r_).__internal_keyless_copyInstanceKeysUrl,__internal_keyless_dismissPrompt:a(this,r_).__internal_keyless_dismissPrompt}})})}}}),l(this,rV,{writable:!0,value:(t,e,i)=>{if(!t||!this.loaded||!this.environment||!this.environment.displayConfig)return"";let n=a(this,r_)[t]||this.environment.displayConfig[t];d(this,ry,r$).call(this)&&(n=a(this,r_).signInUrl);let r=new nx(a(this,r_),e).toSearchParams(),s=new URLSearchParams(i||{}),o=t6({base:n,hashPath:d(this,ry,r$).call(this)&&"signUpUrl"===t?"/create":"",hashSearchParams:[s,r]},{stringify:!0});return this.buildUrlWithAuth(o)}}),l(this,rK,{writable:!0,value:async()=>{var t,e;let i=new URLSearchParams(window.location.search).get("redirect_url"),n="production"===this.instanceType,r=null!==i&&function(t,e){let i=new URL(e,t1),n=i.pathname,r=ee.includes(n)||ei.includes(n);return t===i.host&&r}(this.frontendApi,i);if(n||!r)return!1;let s=this.session,o=a(this,r_).signInUrl||(null===(t=this.environment)||void 0===t?void 0:t.displayConfig.signInUrl),l=o&&window.location.href.startsWith(o),c=a(this,r_).signUpUrl||(null===(e=this.environment)||void 0===e?void 0:e.displayConfig.signUpUrl),h=c&&window.location.href.startsWith(c);return(!function(t){let e=new URL(t,t1);return ee.includes(e.pathname)}(i)||!!s||!l&&!h)&&(await this.navigate(this.buildUrlWithAuth(i)),!0)}}),l(this,rB,{writable:!0,value:t=>({...rs,...t,allowedRedirectOrigins:function(t,e,i){if(Array.isArray(t)&&t.length)return t;let n=[];return"undefined"!=typeof window&&window.location&&n.push(window.location.origin),n.push("https://".concat(t4(e))),n.push("https://*.".concat(t4(e))),"development"===i&&n.push("https://".concat(e)),n}(null==t?void 0:t.allowedRedirectOrigins,this.frontendApi,this.instanceType)})}),l(this,rq,{writable:!0,value:()=>{try{t$(n8),t$("suffixed_cookies"),t$("__clerk_handshake"),t$("__clerk_help")}catch{}}}),t=(t||"").trim(),h(this,ro,null==e?void 0:e.domain),h(this,rl,null==e?void 0:e.proxyUrl),!t)return tH.throwMissingPublishableKeyError();let n=tu(t);if(!n)return tH.throwInvalidPublishableKeyError({key:t});h(this,ra,t),h(this,rf,n.instanceType),h(this,rp,function(t){let e=[],i=[];async function n(t){for await(let i of["undefined"!=typeof window&&window.__unstable__onBeforeRequest,...e].filter(t=>t))if(await i(t)===!1)return!1;return!0}async function r(t,e){for await(let n of["undefined"!=typeof window&&window.__unstable__onAfterResponse,...i].filter(t=>t))if(await n(t,e)===!1)return!1;return!0}function s(e){let{method:i,path:n,sessionId:r,search:s,rotatingTokenNonce:a}=e,o=new URLSearchParams(s);return o.append("__clerk_api_version","2024-10-01"),o.append("_clerk_js_version","5.56.0"),a&&o.append("rotating_token_nonce",a),t.domain&&"development"===t.instanceType&&t.isSatellite&&o.append("__domain",t.domain),i&&"GET"!==i&&"POST"!==i&&o.append("_method",i),n&&!ri.some(t=>n.startsWith(t))&&r&&o.append("_clerk_session_id",r),t0([...o.entries()].reduce((t,e)=>{let[i,n]=e;return t[i]=n.includes(",")?n.split(","):n,t},{}))}function a(e){let{path:i,pathPrefix:n="v1"}=e;if(t.proxyUrl){let r=new URL(t.proxyUrl),a=r.pathname.slice(1,r.pathname.length);return t6({base:r.origin,pathname:"".concat(a,"/").concat(n).concat(i),search:s(e)},{stringify:!1})}let r="production"===t.instanceType?t.domain:"";return t6({base:"https://".concat(r||t.frontendApi),pathname:"".concat(n).concat(i),search:s(e)},{stringify:!1})}async function o(e,i){let s;let o={...e},{method:l="GET",body:c}=o;o.url=a({...o,sessionId:t.getSessionId()}),o.headers=new Headers(o.headers),"GET"===l||c instanceof FormData||o.headers.has("content-type")||o.headers.set("content-type","application/x-www-form-urlencoded"),"application/x-www-form-urlencoded"===o.headers.get("content-type")&&(o.body=c?t0(c,{keyEncoder:ty}):c);let h=await n(o),d="GET"===l?"GET":"POST",u=o.url.toString(),p={...o,credentials:"include",method:d};try{if(h){var f;let t=null!==(f=null==i?void 0:i.fetchMaxTries)&&void 0!==f?f:L()?4:11;s="GET"===d?await eJ(()=>fetch(u,p),{initialDelay:500,maxDelayBetweenRetries:3e3,shouldRetry:(e,i)=>i<t}):await fetch(u,p)}else s=new Response("{}",o)}catch(t){!function(t,e){throw Error("".concat(eC,' Network error at "').concat(t,'" - ').concat(e,". Please try again."))}(u,t)}let m=await s.json(),v=Object.assign(s,{payload:m});return await r(o,v),v}return{buildEmailAddress:function(e){return function(t){let{localPart:e,frontendApi:i}=t,n=i?i.replace("clerk.",""):"clerk.com";return"".concat(e,"@").concat(n)}({localPart:e,frontendApi:t.frontendApi})},buildUrl:a,onAfterResponse:function(t){i.push(t)},onBeforeRequest:function(t){e.push(t)},request:o}}({domain:this.domain,frontendApi:this.frontendApi,instanceType:this.instanceType,isSatellite:this.isSatellite,getSessionId:()=>{var t;return null===(t=this.session)||void 0===t?void 0:t.id},proxyUrl:this.proxyUrl})),e1.clerk=this}}function r$(){return!!(!a(this,r_).signUpUrl&&a(this,r_).signInUrl&&!tM(a(this,r_).signInUrl))}function rY(){let t=tN;return a(this,r_).allowedRedirectProtocols&&(t=t.concat(a(this,r_).allowedRedirectProtocols)),t}p(rG,"mountComponentRenderer",void 0),p(rG,"version","5.56.0"),p(rG,"sdkMetadata",{name:"@clerk/clerk-js",version:"5.56.0",environment:"production"}),t=i.hmd(t);let rZ=(null===(R=document.querySelector("script[data-clerk-publishable-key]"))||void 0===R?void 0:R.getAttribute("data-clerk-publishable-key"))||window.__clerk_publishable_key||"",rQ=(null===(z=document.querySelector("script[data-clerk-proxy-url]"))||void 0===z?void 0:z.getAttribute("data-clerk-proxy-url"))||window.__clerk_proxy_url||"",rX=(null===(W=document.querySelector("script[data-clerk-domain]"))||void 0===W?void 0:W.getAttribute("data-clerk-domain"))||window.__clerk_domain||"";window.Clerk=new rG(rZ,{proxyUrl:rQ,domain:rX}),t.hot&&t.hot.accept()},19:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function a(t){try{l(n.next(t))}catch(t){s(t)}}function o(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,o)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(i)throw TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(570),a="browser-tabs-lock-key";function o(t){return new Promise(function(e){return setTimeout(e,t)})}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++){var r=Math.floor(Math.random()*e.length);i+=e[r]}return i}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,function(){var n,s,c,h,d,u;return r(this,function(r){switch(r.label){case 0:n=Date.now()+l(4),s=Date.now()+i,c=a+"-"+e,h=window.localStorage,r.label=1;case 1:if(!(Date.now()<s))return[3,8];return[4,o(30)];case 2:if(r.sent(),null!==h.getItem(c))return[3,5];return d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))];case 3:return r.sent(),h.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:if(r.sent(),null!==(u=h.getItem(c))&&(u=JSON.parse(u)).id===this.id&&u.iat===n)return this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0];return[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,function(){var i=this;return r(this,function(a){return setTimeout(function(){return n(i,void 0,void 0,function(){var i,n;return r(this,function(r){switch(r.label){case 0:return[4,s.default().lock(e)];case 1:if(r.sent(),!this.acquiredIatSet.has(e)||null===(n=(i=window.localStorage).getItem(t)))return s.default().unlock(e),[2];return(n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(n)),s.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2]}})})},1e3),[2]})})},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,new Promise(function(i){var n=!1,r=Date.now(),s=!1;function a(){if(s||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(o),s=!0),!n){n=!0;var e=50-(Date.now()-r);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",a),t.addToWaiting(a);var o=setTimeout(a,Math.max(0,e-Date.now()))})];case 1:return i.sent(),[2]}})})},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter(function(t){return t!==e}))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach(function(t){return t()})},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}})})},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,function(){var i,n,o;return r(this,function(r){switch(r.label){case 0:if(i=window.localStorage,n=a+"-"+e,null===(o=i.getItem(n)))return[2];if((o=JSON.parse(o)).id!==this.id)return[3,2];return[4,s.default().lock(o.iat)];case 1:r.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(n),s.default().unlock(o.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}})})},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,s=0;s<n.length;s++){var o=n[s];if(o.includes(a)){var l=i.getItem(o);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(i.removeItem(o),r=!0)}}r&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c},570:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise(function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())})},this.unlock=function(e){var i=t.locked.get(e);if(void 0===i||0===i.length){t.locked.delete(e);return}var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}},763:function(t){t.exports=function(t,e){if("string"!=typeof t)throw TypeError("Expected a string");for(var i,n=String(t),r="",s=!!e&&!!e.extended,a=!!e&&!!e.globstar,o=!1,l=e&&"string"==typeof e.flags?e.flags:"",c=0,h=n.length;c<h;c++)switch(i=n[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+i;break;case"?":if(s){r+=".";break}case"[":case"]":if(s){r+=i;break}case"{":if(s){o=!0,r+="(";break}case"}":if(s){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+i;break;case"*":for(var d=n[c-1],u=1;"*"===n[c+1];)u++,c++;var p=n[c+1];a?u>1&&("/"===d||void 0===d)&&("/"===p||void 0===p)?(r+="((?:[^/]*(?:/|$))*)",c++):r+="([^/]*)":r+=".*";break;default:r+=i}return l&&~l.indexOf("g")||(r="^"+r+"$"),new RegExp(r,l)}},647:function(t){var e=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function h(t,i,n,s){var a,o,l,c,h=Object.create((i&&i.prototype instanceof v?i:v).prototype);return r(h,"_invoke",{value:(a=t,o=n,l=new O(s||[]),c=u,function(t,i){if(c===p)throw Error("Generator is already running");if(c===f){if("throw"===t)throw i;return P()}for(l.method=t,l.arg=i;;){var n=l.delegate;if(n){var r=function t(i,n){var r=n.method,s=i.iterator[r];if(e===s)return n.delegate=null,"throw"===r&&i.iterator.return&&(n.method="return",n.arg=e,t(i,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(s,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}(n,l);if(r){if(r===m)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===u)throw c=f,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var s=d(a,o,l);if("normal"===s.type){if(c=l.done?f:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:l.done}}"throw"===s.type&&(c=f,l.method="throw",l.arg=s.arg)}})}),h}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u="suspendedStart",p="executing",f="completed",m={};function v(){}function g(){}function _(){}var w={};c(w,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&n.call(y,a)&&(w=y);var S=_.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function U(t,e){var i;r(this,"_invoke",{value:function(r,s){function a(){return new e(function(i,a){!function i(r,s,a,o){var l=d(t[r],t,s);if("throw"===l.type)o(l.arg);else{var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,o)})}}(r,s,i,a)})}return i=i?i.then(a,a):a()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=_,r(S,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var a=new U(h(e,i,n,r),s);return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(S),c(S,l,"Generator"),c(S,a,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=t,a.arg=e,s)?(this.method="next",this.next=s.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),I(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;I(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:C(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;i.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var s=Object.create(null);i.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(t=>{a[t]=()=>n[t]});return a.default=()=>n,i.d(s,a),s}})(),i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce(function(e,n){return i.f[n](t,e),e},[]))},i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.u=function(t){return""+({192:"vendors",199:"cookieSuffix",325:"zxcvbn-common",708:"zxcvbn-ts-core",956:"coinbase-wallet-sdk"})[t]+"_"+i.h().slice(0,6)+"_5.56.0.js"},i.h=function(){return"5dd3275ddce5a4b5"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},(()=>{var t={},e="@clerk/clerk-js:";i.l=function(n,r,s,a){if(t[n]){t[n].push(r);return}if(void 0!==s)for(var o,l,c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+s),o.src=n),t[n]=[r];var u=function(e,i){o.onerror=o.onload=null,clearTimeout(p);var r=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(t){return t(i)}),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{i.g.importScripts&&(t=i.g.location+"");var t,e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={567:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r){if(r)n.push(r[2]);else{var s=new Promise(function(i,n){r=t[e]=[i,n]});n.push(r[2]=s);var a=i.p+i.u(e),o=Error();i.l(a,function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}},"chunk-"+e,e)}}};var e=function(e,n){var r,s,a=n[0],o=n[1],l=n[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);l&&l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i(547)})());