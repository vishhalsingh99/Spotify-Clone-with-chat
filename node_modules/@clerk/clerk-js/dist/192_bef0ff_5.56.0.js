"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["192"],{8493:function(e,t,i){i.d(t,{l:()=>h});var l=i(9755),r=i(3531),o=i(4914),n=i(9144),a=i(7571),s=i(3064),d=i(5332),c=i(5872),u=i(1085),p=i(5295),m=i(2539),v=i(408);let g=e=>/^\S+@\S+\.\S+$/.test(e),h=e=>{let{onSuccess:t,onReset:i,resetButtonLabel:a}=e,{organization:c,invitations:v}=(0,o.o8)({invitations:{pageSize:10,keepPreviousData:!0}}),h=(0,d.useCardState)(),{t:x,locale:Z}=(0,u.zJ)(),[_,z]=(0,n.useState)(!1),S=(0,m.Yp)("emailAddress","",{type:"text",label:(0,u.u1)("formFieldLabel__emailAddresses")}),y=b(),C=(0,m.Yp)("role","",{label:(0,u.u1)("formFieldLabel__role")});if((0,n.useEffect)(()=>{!C.value&&y&&C.setValue(y)},[y,C]),!c)return null;let{props:{setError:T,setWarning:w,setSuccess:k,setInfo:P,isFocused:$,validatePassword:B,setHasPassedComplexity:F,hasPassedComplexity:A,feedback:D,feedbackType:R,clearFeedback:X,...K}}=S,I=(!!S.value.length||_)&&!!C.value,E=e=>{var t,i,l,r;let o=new Set([...null!==(l=null===(t=e.meta)||void 0===t?void 0:t.emailAddresses)&&void 0!==l?l:[],...null!==(r=null===(i=e.meta)||void 0===i?void 0:i.identifiers)&&void 0!==r?r:[]]),n=S.value.split(",");S.setValue(n.filter(e=>!o.has(e)).join(","))};return(0,l.BX)(d.Form.Root,{onSubmit:e=>{if(e.preventDefault(),!I)return;let i=new FormData(e.currentTarget);return c.inviteMembers({emailAddresses:S.value.split(","),role:i.get("role")}).then(async()=>{var e;return await (null==v?void 0:null===(e=v.revalidate)||void 0===e?void 0:e.call(v)),null==t?void 0:t()}).catch(e=>{var t,i,l,o,n;if(!(0,r.kD)(e)){(0,m.S3)(e,[],h.setError);return}switch(E(e.errors[0]),null===(i=e.errors)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.code){case"duplicate_record":{let t=(null===(l=e.errors[0].meta)||void 0===l?void 0:l.emailAddresses)||[];h.setError(x((0,u.u1)("organizationProfile.invitePage.detailsTitle__inviteFailed",{email_addresses:(0,m.z$)(t,Z)})));break}case"already_a_member_in_organization":{let t=null===(o=(null!==(n=e.errors[0].longMessage)&&void 0!==n?n:"").match(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/))||void 0===o?void 0:o[0];(0,m.S3)(e,[],e=>t?h.setError(x((0,u.u1)("unstable__errors.already_a_member_in_organization",{email:t}))):h.setError(e));break}default:(0,m.S3)(e,[],h.setError)}})},children:[(0,l.tZ)(d.Form.ControlRow,{elementId:S.id,children:(0,l.tZ)(d.TagInput,{...K,autoFocus:!0,validate:g,sx:{width:"100%"},validateUnsubmittedEmail:e=>z(g(e)),placeholder:(0,u.u1)("formFieldInputPlaceholder__emailAddresses")})}),(0,l.BX)(s.Flex,{align:"center",justify:"between",sx:e=>({marginTop:e.space.$2,gap:e.space.$4,flexWrap:"wrap",[p.mqu.sm]:{justifyContent:"center"}}),children:[(0,l.tZ)(f,{...C}),(0,l.BX)(d.FormButtonContainer,{sx:e=>({margin:e.space.$none,flexWrap:"wrap",justifyContent:"center"}),children:[(0,l.tZ)(d.Form.SubmitButton,{block:!1,isDisabled:!I,localizationKey:(0,u.u1)("organizationProfile.invitePage.formButtonPrimary__continue")}),(0,l.tZ)(d.Form.ResetButton,{localizationKey:a||(0,u.u1)("userProfile.formButtonReset"),block:!1,onClick:i})]})]})]})},f=e=>{let{options:t,isLoading:i}=(0,c.e)(),{t:r}=(0,u.zJ)();return(0,l.tZ)(d.Form.ControlRow,{elementId:e.id,children:(0,l.tZ)(s.Flex,{direction:"col",gap:2,children:(0,l.tZ)(v.DQ,{...e.props,roles:t,isDisabled:i,onChange:t=>e.setValue(t),triggerSx:e=>({minWidth:e.sizes.$40,justifyContent:"space-between",display:"flex"}),optionListSx:e=>({minWidth:e.sizes.$48}),prefixLocalizationKey:"".concat(r((0,u.u1)("formFieldLabel__role")),":")})})})},b=()=>{let{options:e}=(0,c.e)(),{organizationSettings:t}=(0,a.useEnvironment)(),i=t.domains.defaultRole;return i||(null==e?void 0:e.length)!==1||(i=e[0].value),i}},5727:function(e,t,i){i.d(t,{N:()=>g,a:()=>h});var l=i(9755),r=i(4914),o=i(1235),n=i(8969),a=i(7571),s=i(3064),d=i(5332),c=i(4709),u=i(8655),p=i(4676);let m=e=>{let{__unstable_manageBillingUrl:t,__unstable_manageBillingMembersLimit:i}=e,r=(0,p.useRouter)();return(0,l.BX)(s.Flex,{sx:e=>({background:e.colors.$neutralAlpha50,padding:e.space.$4,borderRadius:e.radii.$md}),children:[(0,l.tZ)(s.AlertIcon,{variant:"warning",colorScheme:"danger",sx:e=>({marginTop:e.space.$1})}),(0,l.BX)(s.Text,{children:["This organization is limited to ",(0,o.OR)(i)," members.",(0,l.tZ)("br",{}),(0,l.tZ)(s.Link,{sx:e=>({alignSelf:"flex-start",color:e.colors.$primary500,fontWeight:e.fontWeights.$normal}),onClick:()=>r.navigate((0,o.OR)(t)),children:"Upgrade for unlimited members"})]})]})};var v=i(8493);let g=(0,d.withCardStateProvider)(e=>{let{close:t}=(0,c.XC)(),{onReset:i=t}=e,u=(0,s.localizationKeys)("organizationProfile.invitePage.title"),p=(0,s.localizationKeys)("organizationProfile.invitePage.subtitle"),g=(0,d.useCardState)(),f=(0,n.a2)({onNextStep:()=>g.setError(void 0)}),{organization:b}=(0,r.o8)(),{__unstable_manageBillingUrl:x,__unstable_manageBillingMembersLimit:Z}=(0,a.useOrganizationProfileContext)();if(!b)return null;let _=!!Z&&(0,o.OR)(Z)<=b.pendingInvitationsCount+b.membersCount;return(0,l.BX)(n.en,{...f.props,children:[(0,l.BX)(d.FormContainer,{headerTitle:u,headerSubtitle:p,children:[_&&x&&(0,l.tZ)(m,{__unstable_manageBillingUrl:x,__unstable_manageBillingMembersLimit:Z}),(0,l.tZ)(v.l,{onSuccess:f.nextStep,onReset:i})]}),(0,l.tZ)(d.SuccessPage,{title:u,onFinish:t,contents:(0,l.tZ)(h,{})})]})}),h=()=>(0,l.BX)(s.Flex,{direction:"col",center:!0,gap:4,children:[(0,l.tZ)(d.IconCircle,{boxElementDescriptor:s.descriptors.invitationsSentIconBox,iconElementDescriptor:s.descriptors.invitationsSentIcon,icon:u.GT}),(0,l.tZ)(s.Text,{localizationKey:(0,s.localizationKeys)("organizationProfile.invitePage.successMessage")})]})},408:function(e,t,i){i.d(t,{DQ:()=>u,RN:()=>c,wQ:()=>s});var l=i(9755),r=i(9144),o=i(3064),n=i(5332),a=i(5872);let s=e=>{let{headers:t,page:i,onPageChange:r,rows:a,isLoading:s,itemCount:c,itemsPerPage:u,pageCount:p,emptyStateLocalizationKey:m}=e,v=c>0?Math.max(0,(i-1)*u)+1:0,g=Math.min(i*u,c);return(0,l.BX)(o.Col,{gap:4,sx:{width:"100%"},children:[(0,l.tZ)(o.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,l.BX)(o.Table,{children:[(0,l.tZ)(o.Thead,{children:(0,l.tZ)(o.Tr,{children:t.map((e,t)=>(0,l.tZ)(o.Th,{elementDescriptor:o.descriptors.tableHead,localizationKey:e},t))})}),(0,l.tZ)(o.Tbody,{children:s?(0,l.tZ)(o.Tr,{children:(0,l.tZ)(o.Td,{colSpan:4,children:(0,l.tZ)(o.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:o.descriptors.spinner})})}):a.length?a:(0,l.tZ)(d,{localizationKey:m},"empty")})]})}),p>1&&(0,l.tZ)(n.Pagination,{count:p,page:i,onChange:r,siblingCount:1,rowInfo:{allRowsCount:c,startingRow:v,endingRow:g}})]})},d=e=>(0,l.tZ)(o.Tr,{children:(0,l.tZ)(o.Td,{colSpan:4,children:(0,l.tZ)(o.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),c=e=>(0,l.tZ)(o.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})}),u=e=>{let{value:t,roles:i,onChange:s,isDisabled:d,triggerSx:c,optionListSx:u,prefixLocalizationKey:m}=e,{localizeCustomRole:v}=(0,a.q)(),g=(0,r.useMemo)(()=>[...i||[]],[i]),h=(0,r.useMemo)(()=>g.find(e=>e.value===t),[g]),{t:f}=(0,o.useLocalizations)(),b=(0,r.useMemo)(()=>g.map(e=>({value:e.value,label:v(e.value)||e.label})),[g,v]);return(0,l.BX)(n.Select,{elementId:"role",options:b,value:t,placeholder:f((0,o.localizationKeys)("organizationProfile.invitePage.selectDropdown__role")),onChange:e=>s(e.value),renderOption:(e,t,i)=>(0,l.tZ)(p,{isSelected:i,option:e,sx:e=>({"&:hover":{backgroundColor:e.colors.$neutralAlpha100},'&[data-focused="true"]':{backgroundColor:e.colors.$neutralAlpha150}})}),children:[(0,l.tZ)("input",{name:"role",type:"hidden",value:t}),(0,l.tZ)(n.SelectButton,{sx:c||(e=>({color:e.colors.$colorText,backgroundColor:"transparent",textWrap:"nowrap"})),isDisabled:d,children:((null==h?void 0:h.label)||(null==h?void 0:h.value))&&(0,l.BX)(o.Flex,{as:"span",gap:1,children:[m&&(0,l.tZ)(o.Text,{as:"span",colorScheme:"secondary",localizationKey:m}),(0,l.tZ)(o.Text,{as:"span",sx:e=>({color:e.colors.$colorText}),children:v(null==h?void 0:h.value)||(null==h?void 0:h.label)})]})}),(0,l.tZ)(n.SelectOptionList,{sx:u})]})},p=(0,r.memo)(e=>{let{option:t,isSelected:i,sx:r,...n}=e;return(0,l.tZ)(o.Flex,{sx:[e=>({width:"100%",padding:"".concat(e.space.$2," ").concat(e.space.$4),borderRadius:e.radii.$md}),r],...n,children:(0,l.tZ)(o.Text,{colorScheme:"secondary",children:null==t?void 0:t.label})})})},8181:function(e,t,i){i.d(t,{D:()=>a});var l=i(9755),r=i(3064),o=i(5332),n=i(1085);let a=e=>{let{organization:t,...i}=e;return(0,l.BX)(r.Col,{elementDescriptor:r.descriptors.organizationAvatarUploaderContainer,children:[(0,l.tZ)(r.Text,{variant:"subtitle",sx:e=>({textAlign:"left",marginBottom:e.space.$2}),localizationKey:(0,n.u1)("organizationProfile.start.profileSection.uploadAction__title")}),(0,l.tZ)(o.AvatarUploader,{...i,title:(0,n.u1)("userProfile.profilePage.imageFormTitle"),avatarPreview:(0,l.tZ)(o.OrganizationAvatar,{size:e=>e.sizes.$16,...t})})]})}},7484:function(e,t,i){i.d(t,{AO:()=>l,Sz:()=>r});let l={userMemberships:{infinite:!0},userInvitations:{infinite:!0},userSuggestions:{infinite:!0,status:["pending","accepted"]}},r=(e,t,i)=>{var l;if(void 0===t)return[{data:[e],total_count:1}];let r=(null==t?void 0:null===(l=t[t.length-1])||void 0===l?void 0:l.total_count)||1;return t.map(t=>{if(void 0===t)return t;let l=t.data.map(t=>t.id===e.id?{...e}:t);return{...t,data:l,total_count:"negative"===i?r-1:r}})}}}]);